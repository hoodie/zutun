!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(5)},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";function o(){}function r(t,e){for(var n in e)t[n]=e[n];return t}function s(t,e){for(var n in e)t[n]=1;return t}function i(t,e){return 0===e&&t(),()=>{--e||t()}}function a(t){t()}function c(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n)}function u(t){t.parentNode.removeChild(t)}function m(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function p(){return document.createComment("")}function g(t,e,n,o){t.addEventListener(e,n,o)}function f(t,e,n,o){t.removeEventListener(e,n,o)}function y(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function v(t){return""===t?void 0:+t}function _(t,e){t.data=""+e}function b(t,e,n){t.style.setProperty(e,n)}function w(t,e,n){t.classList[n?"add":"remove"](e)}function N(t){return t}function C({a:t,b:e,delta:n,duration:o},r,s){const i=16.666/o;let a="{\n";for(let e=0;e<=1;e+=i){const o=t+n*r(e);a+=100*e+`%{${s(o,1-o)}}\n`}return a+`100% {${s(e,1-e)}}\n}`}function k(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function I(t,e,n,r,s){let i,c,l,u=n.call(t,e,r),m=!1;return{t:s?0:1,running:!1,program:null,pending:null,run(t,e){"function"==typeof u?M.wait().then(()=>{u=u(),this._run(t,e)}):this._run(t,e)},_run(t,n){i=u.duration||300,c=u.easing||N;const r={start:window.performance.now()+(u.delay||0),b:t,callback:n||o};s&&!m&&(u.css&&u.delay&&(l=e.style.cssText,e.style.cssText+=u.css(0,1)),u.tick&&u.tick(0,1),m=!0),t||(r.group=$.current,$.current.remaining+=1),u.delay?this.pending=r:this.start(r),this.running||(this.running=!0,M.add(this))},start(n){if(t.fire(`${n.b?"intro":"outro"}.start`,{node:e}),n.a=this.t,n.delta=n.b-n.a,n.duration=i*Math.abs(n.b-n.a),n.end=n.start+n.duration,u.css){u.delay&&(e.style.cssText=l);const t=C(n,c,u.css);M.addRule(t,n.name="__svelte_"+k(t)),e.style.animation=(e.style.animation||"").split(", ").filter(t=>t&&(n.delta<0||!/__svelte/.test(t))).concat(`${n.name} ${n.duration}ms linear 1 forwards`).join(", ")}this.program=n,this.pending=null},update(t){const e=this.program;if(!e)return;const n=t-e.start;this.t=e.a+e.delta*c(n/e.duration),u.tick&&u.tick(this.t,1-this.t)},done(){const n=this.program;this.t=n.b,u.tick&&u.tick(this.t,1-this.t),t.fire(`${n.b?"intro":"outro"}.end`,{node:e}),n.b||n.invalidated?u.css&&M.deleteRule(e,n.name):(n.group.callbacks.push(()=>{n.callback(),u.css&&M.deleteRule(e,n.name)}),0==--n.group.remaining&&n.group.callbacks.forEach(a)),this.running=!!this.pending},abort(t){this.program&&(t&&u.tick&&u.tick(1,0),u.css&&M.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate(){this.program&&(this.program.invalidated=!0)}}}n.r(e);let $={};function x(){$.current={remaining:0,callbacks:[]}}var M={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule(t,e){if(!this.stylesheet){const t=d("style");document.head.appendChild(t),M.stylesheet=t.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule(`@keyframes ${e} ${t}`,this.stylesheet.cssRules.length))},next(){this.running=!1;const t=window.performance.now();let e=this.transitions.length;for(;e--;){const n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){let t=this.stylesheet.cssRules.length;for(;t--;)this.stylesheet.deleteRule(t);this.activeRules={}}},deleteRule(t,e){t.style.animation=t.style.animation.split(", ").filter(t=>t&&-1===t.indexOf(e)).join(", ")},wait:()=>(M.promise||(M.promise=Promise.resolve(),M.promise.then(()=>{M.promise=null})),M.promise)};function P(){return Object.create(null)}function R(t){this.destroy=o,this.fire("destroy"),this.set=o,this._fragment.d(!1!==t),this._fragment=null,this._state={}}function B(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function A(t,e){return t!=t?e==e:t!==e}function O(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1){var r=n[o];if(!r.__calling)try{r.__calling=!0,r.call(this,e)}finally{r.__calling=!1}}}function T(t){t._lock=!0,W(t._beforecreate),W(t._oncreate),W(t._aftercreate),t._lock=!1}function F(){return this._state}function j(t,e){t._handlers=P(),t._slots=P(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function S(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function E(t){this._set(r({},t)),this.root._lock||T(this.root)}function L(t){var e=this._state,n={},o=!1;for(var s in t=r(this._staged,t),this._staged={},t)this._differs(t[s],e[s])&&(n[s]=o=!0);o&&(this._state=r(r({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))}function U(t){r(this._staged,t)}function W(t){for(;t&&t.length;)t.shift()()}function q(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)}function z(){this.store._remove(this)}var J={destroy:R,get:F,fire:O,on:S,set:E,_recompute:o,_set:L,_stage:U,_mount:q,_differs:B};function H(t,e){this._handlers={},this._dependents=[],this._computed=P(),this._sortedComputedProperties=[],this._state=r({},t),this._differs=e&&e.immutable?A:B}function K(t){var e=t-1;return e*e*e+1}r(H.prototype,{_add(t,e){this._dependents.push({component:t,props:e})},_init(t){const e={};for(let n=0;n<t.length;n+=1){const o=t[n];e["$"+o]=this._state[o]}return e},_remove(t){let e=this._dependents.length;for(;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set(t,e){const n=this._state;this._state=r(r({},n),t);for(let t=0;t<this._sortedComputedProperties.length;t+=1)this._sortedComputedProperties[t].update(this._state,e);this.fire("state",{changed:e,previous:n,current:this._state}),this._dependents.filter(t=>{const n={};let o=!1;for(let r=0;r<t.props.length;r+=1){const s=t.props[r];s in e&&(n["$"+s]=this._state[s],o=!0)}if(o)return t.component._stage(n),!0}).forEach(t=>{t.component.set({})}),this.fire("update",{changed:e,previous:n,current:this._state})},_sortComputedProperties(){const t=this._computed,e=this._sortedComputedProperties=[],n=P();let o;function r(s){const i=t[s];i&&(i.deps.forEach(t=>{if(t===o)throw new Error(`Cyclical dependency detected between ${t} <-> ${s}`);r(t)}),n[s]||(n[s]=!0,e.push(i)))}for(const t in this._computed)r(o=t)},compute(t,e,n){let o;const s={deps:e,update:(r,s,i)=>{const a=e.map(t=>(t in s&&(i=!0),r[t]));if(i){const e=n.apply(null,a);this._differs(e,o)&&(o=e,s[t]=!0,r[t]=o)}}};this._computed[t]=s,this._sortComputedProperties();const i=r({},this._state),a={};s.update(i,a,!0),this._set(i,a)},fire:O,get:F,on:S,set(t){const e=this._state,n=this._changed={};let o=!1;for(const r in t){if(this._computed[r])throw new Error(`'${r}' is a read-only computed property`);this._differs(t[r],e[r])&&(n[r]=o=!0)}o&&this._set(t,n)}});var V=function(t,e){var n=e.delay;void 0===n&&(n=0);var o=e.duration;void 0===o&&(o=400);var r=+getComputedStyle(t).opacity;return{delay:n,duration:o,css:function(t){return"opacity: "+t*r}}};var D=function(t,e){var n=e.delay;void 0===n&&(n=0);var o=e.duration;void 0===o&&(o=400);var r=e.easing;void 0===r&&(r=K);var s=getComputedStyle(t),i=+s.opacity,a=parseFloat(s.height),c=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),u=parseFloat(s.marginTop),m=parseFloat(s.marginBottom),d=parseFloat(s.borderTopWidth),h=parseFloat(s.borderBottomWidth);return{delay:n,duration:o,easing:r,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*i+";height: "+t*a+"px;padding-top: "+t*c+"px;padding-bottom: "+t*l+"px;margin-top: "+t*u+"px;margin-bottom: "+t*m+"px;border-top-width: "+t*d+"px;border-bottom-width: "+t*h+"px;"}}};const G=t=>"number"==typeof t&&t.toFixed(2).toString().replace(".",",")+"€",Q=["secondary","success","danger","warning","info","light","dark"].map(t=>`badge-${t}`),X=t=>Q[t.length%(Q.length-1)];var Y={addNewItem(){const{newItemName:t,newItemCategory:e}=this.get(),{catalogue:{items:n}}=this.store.get(),o={name:t,category:e};this.store.set({catalogue:{items:[...n,o]}}),this.set({newItemName:null,newItemCategory:null})},deleteItem(t){const{newItemName:e,newItemCategory:n}=this.get(),{catalogue:{items:o}}=this.store.get();this.store.set({catalogue:{items:[...o.filter((e,n)=>n!=t)]}}),this.set({newItemName:null,newItemCategory:null})}};function Z(t,e,n){const o=Object.create(t);return o.category=e[n],o}function tt(t){const{component:e,ctx:n}=this._svelte;e.deleteItem(n.idx)}function et(t){const{component:e,ctx:n}=this._svelte;e.fire("addItem",{name:n.name,category:n.category,price:n.price})}function nt(t,e,n){const o=Object.create(t);return o.name=e[n].name,o.category=e[n].category,o.price=e[n].price,o.idx=n,o}function ot(t,e){var n,o,r=G(e.price);return{c(){n=d("span"),o=h(r)},m(t,e){l(t,n,e),c(n,o)},p(t,e){t.$catalogue&&r!==(r=G(e.price))&&_(o,r)},d(t){t&&u(n)}}}function rt(t,e){var n,o,r,s,i,a,m,p,v,b=e.name,w=e.category,N=e.price&&ot(0,e);return{c(){n=d("div"),o=d("button"),r=h(b),s=h("\n                    "),N&&N.c(),i=h("\n                    "),a=d("span"),m=h(w),p=h("\n                "),(v=d("button")).textContent="×",a.className="badge badge-primary",o._svelte={component:t,ctx:e},g(o,"click",et),o.className="btn btn-lg category-btn list-group-item list-group-item-action d-flex justify-content-between align-items-center",v._svelte={component:t,ctx:e},g(v,"click",tt),y(v,"aria-hidden","true"),v.className="btn btn-sm btn-outline-danger btn-borderless",n.className="btn-group"},m(t,e){l(t,n,e),c(n,o),c(o,r),c(o,s),N&&N.m(o,null),c(o,i),c(o,a),c(a,m),c(n,p),c(n,v)},p(t,n){e=n,t.$catalogue&&b!==(b=e.name)&&_(r,b),e.price?N?N.p(t,e):((N=ot(0,e)).c(),N.m(o,i)):N&&(N.d(1),N=null),t.$catalogue&&w!==(w=e.category)&&_(m,w),o._svelte.ctx=e,v._svelte.ctx=e},d(t){t&&u(n),N&&N.d(),f(o,"click",et),f(v,"click",tt)}}}function st(t,e){var n,o,r,s,i,a,m=e.newItemPrice&&it(t,e);return{c(){n=d("button"),o=h(e.newItemName),r=h("\n                "),m&&m.c(),s=h("\n                "),i=d("span"),a=h(e.newItemCategory),i.className="badge badge-primary",n.className="btn category-btn list-group-item-action d-flex justify-content-between align-items-center disabled",n.disabled=!0},m(t,e){l(t,n,e),c(n,o),c(n,r),m&&m.m(n,null),c(n,s),c(n,i),c(i,a)},p(e,r){e.newItemName&&_(o,r.newItemName),r.newItemPrice?m?m.p(e,r):((m=it(t,r)).c(),m.m(n,s)):m&&(m.d(1),m=null),e.newItemCategory&&_(a,r.newItemCategory)},d(t){t&&u(n),m&&m.d()}}}function it(t,e){var n,o,r=G(e.parseFloat(e.newItemPrice));return{c(){n=d("span"),o=h(r)},m(t,e){l(t,n,e),c(n,o)},p(t,e){(t.parseFloat||t.newItemPrice)&&r!==(r=G(e.parseFloat(e.newItemPrice)))&&_(o,r)},d(t){t&&u(n)}}}function at(t,e){var n,o,r,s,i,a,p,v,_=!1,b=!1;function w(){_=!0,t.set({newItemPrice:n.value}),_=!1}function N(){b=!0,t.set({newItemCategory:r.value}),b=!1}for(var C=e.$categories,k=[],I=0;I<C.length;I+=1)k[I]=ct(t,Z(e,C,I));function $(e){t.addNewItem()}return{c(){n=d("input"),o=h("\n            "),r=d("input"),s=h("\n            "),i=d("datalist");for(var t=0;t<k.length;t+=1)k[t].c();a=h("\n            "),p=d("div"),(v=d("button")).textContent="add",g(n,"input",w),n.placeholder="price",y(n,"type","text"),g(r,"input",N),r.placeholder="category",y(r,"type","text"),y(r,"list","categoriesSuggestions"),i.id="categoriesSuggestions",g(v,"click",$),v.className="btn btn-success",v.type="button",p.className="input-group-append"},m(t,u){l(t,n,u),n.value=e.newItemPrice,l(t,o,u),l(t,r,u),r.value=e.newItemCategory,l(t,s,u),l(t,i,u);for(var m=0;m<k.length;m+=1)k[m].m(i,null);l(t,a,u),l(t,p,u),c(p,v)},p(e,o){if(!_&&e.newItemPrice&&(n.value=o.newItemPrice),!b&&e.newItemCategory&&(r.value=o.newItemCategory),e.$categories){C=o.$categories;for(var s=0;s<C.length;s+=1){const n=Z(o,C,s);k[s]?k[s].p(e,n):(k[s]=ct(t,n),k[s].c(),k[s].m(i,null))}for(;s<k.length;s+=1)k[s].d(1);k.length=C.length}},d(t){t&&u(n),f(n,"input",w),t&&(u(o),u(r)),f(r,"input",N),t&&(u(s),u(i)),m(k,t),t&&(u(a),u(p)),f(v,"click",$)}}}function ct(t,e){var n,o,r,s=e.category;return{c(){n=d("option"),o=h(s),n.__value=r=e.category,n.value=n.__value},m(t,e){l(t,n,e),c(n,o)},p(t,e){t.$categories&&s!==(s=e.category)&&_(o,s),t.$categories&&r!==(r=e.category)&&(n.__value=r),n.value=n.__value},d(t){t&&u(n)}}}function lt(t){j(this,t),this._state=r(r(r({parseFloat:parseFloat},this.store._init(["catalogue","categories"])),{newItemName:"",newItemPrice:null,newItemCategory:null}),t.data),this.store._add(this,["catalogue","categories"]),this._intro=!!t.intro,this._handlers.destroy=[z],this._fragment=function(t,e){var n,o,r,s,i,p,y,v,_,w,N,C,k,I,$=!1;function x(e){t.fire("close")}for(var M=e.$catalogue.items,P=[],R=0;R<M.length;R+=1)P[R]=rt(t,nt(e,M,R));var B=e.newItemName&&st(t,e);function A(){$=!0,t.set({newItemName:C.value}),$=!1}var O=e.newItemName&&at(t,e);return{c(){n=d("div"),o=d("div"),r=d("h3"),s=h("Add Item\n            "),(i=d("button")).innerHTML='<span aria-hidden="true">×</span>',p=h("\n\n    "),y=d("div"),v=d("div");for(var t=0;t<P.length;t+=1)P[t].c();_=h("\n\n            "),B&&B.c(),w=h("\n\n        "),N=d("div"),C=d("input"),k=h("\n            "),O&&O.c(),g(i,"click",x),i.type="button",i.className="close",i.title="Close",r.className="card-title",o.className="card-header",v.className="list-group",b(v,"max-height","400px"),b(v,"overflow","scroll"),b(v,"padding-right","10px"),g(C,"input",A),C.value="",C.placeholder="name",N.className="input-group mb-3",y.className="card-body",n.className="card"},m(t,a){l(t,n,a),c(n,o),c(o,r),c(r,s),c(r,i),c(n,p),c(n,y),c(y,v);for(var u=0;u<P.length;u+=1)P[u].m(v,null);c(v,_),B&&B.m(v,null),c(y,w),c(y,N),c(N,C),C.value=e.newItemName,c(N,k),O&&O.m(N,null),I=!0},p(e,n){if(e.$catalogue){M=n.$catalogue.items;for(var o=0;o<M.length;o+=1){const r=nt(n,M,o);P[o]?P[o].p(e,r):(P[o]=rt(t,r),P[o].c(),P[o].m(v,_))}for(;o<P.length;o+=1)P[o].d(1);P.length=M.length}n.newItemName?B?B.p(e,n):((B=st(t,n)).c(),B.m(v,null)):B&&(B.d(1),B=null),!$&&e.newItemName&&(C.value=n.newItemName),n.newItemName?O?O.p(e,n):((O=at(t,n)).c(),O.m(N,null)):O&&(O.d(1),O=null)},i(t,e){I||this.m(t,e)},o:a,d(t){t&&u(n),f(i,"click",x),m(P,t),B&&B.d(),f(C,"input",A),O&&O.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}r(lt.prototype,J),r(lt.prototype,Y),lt.prototype._differs=A;var ut=lt;n(1);var mt={updateItem(t){const{items:e}=this.store.get(),{idx:n}=this.get();console.debug(`checkItem(${n})`);const o=[...e];o[n]={...o[n],...t},this.store.set({items:o})},hideAll(){this.set({showButton:!0,showMenu:!1,showRename:!1,showReprice:!1})},checkItem(){const{item:{done:t}}=this.get();this.updateItem({done:!t})},rename(t){console.debug(`rename(${t})`),this.updateItem({name:t}),this.hideAll()},reprice(t){const e=parseFloat(t);Number.isNaN(e)||(console.debug(`reprice(${e})`),this.updateItem({price:e}),this.hideAll())},deleteItem(){const{items:t}=this.store.get(),{idx:e}=this.get();console.debug(`deleteItem(${e})`);const n=[...t.filter((t,n)=>n!==e)];this.store.set({items:n}),this.hideAll()}};function dt({current:{showMenu:t}}){}function ht(t,e){var n;return{c(){n=h("set price")},m(t,e){l(t,n,e)},d(t){t&&u(n)}}}function pt(t,e){var n;return{c(){n=h("change price")},m(t,e){l(t,n,e)},d(t){t&&u(n)}}}function gt(t,e){var n,o,r,s,a,m,p,v,_=!1;function w(){_=!0,t.set({newName:o.value}),_=!1}function N(n){t.rename(e.newName)}return{c(){n=d("div"),o=d("input"),a=h("\n            "),(m=d("button")).textContent="↵",g(o,"input",w),o.className="",y(o,"type","text"),b(o,"width","80%"),o.placeholder=r=`"${e.item.name}"`,g(m,"click",N),m.className="btn btn-info svelte-evs4ho",b(m,"width","20%"),n.className="input-group"},m(t,r){l(t,n,r),c(n,o),o.value=e.newName,c(n,a),c(n,m),v=!0},p(t,n){e=n,!_&&t.newName&&(o.value=e.newName),v&&!t.item||r===(r=`"${e.item.name}"`)||(o.placeholder=r)},i(e,r){v||(t.root._intro&&(s&&s.invalidate(),t.root._aftercreate.push(()=>{s||(s=I(t,o,V,{},!0)),s.run(1)}),p&&p.invalidate(),t.root._aftercreate.push(()=>{p||(p=I(t,n,V,{},!0)),p.run(1)})),this.m(e,r))},o(e){v&&(e=i(e,2),s||(s=I(t,o,V,{},!1)),s.run(0,()=>{e(),s=null}),p||(p=I(t,n,V,{},!1)),p.run(0,()=>{e(),p=null}),v=!1)},d(t){t&&u(n),f(o,"input",w),t&&s&&s.abort(),f(m,"click",N),t&&p&&p.abort()}}}function ft(t,e){var n,o,r,s,a,m,p,_,w=!1;function N(){w=!0,t.set({newPrice:v(o.value)}),w=!1}function C(t){return t.item.price?vt:yt}var k=C(e),$=k(t,e);function x(n){t.reprice(e.newPrice)}return{c(){n=d("div"),o=d("input"),a=h("\n            "),m=d("button"),$.c(),g(o,"input",N),o.className="",y(o,"type","number"),b(o,"width","80%"),o.placeholder=r=e.item.name+" for "+G(e.item.price),g(m,"click",x),m.className="btn btn-warning svelte-evs4ho",b(m,"width","20%"),n.className="input-group"},m(t,r){l(t,n,r),c(n,o),o.value=e.newPrice,c(n,a),c(n,m),$.m(m,null),_=!0},p(n,s){e=s,!w&&n.newPrice&&(o.value=e.newPrice),_&&!n.item||r===(r=e.item.name+" for "+G(e.item.price))||(o.placeholder=r),k!==(k=C(e))&&($.d(1),($=k(t,e)).c(),$.m(m,null))},i(e,r){_||(t.root._intro&&(s&&s.invalidate(),t.root._aftercreate.push(()=>{s||(s=I(t,o,V,{},!0)),s.run(1)}),p&&p.invalidate(),t.root._aftercreate.push(()=>{p||(p=I(t,n,V,{},!0)),p.run(1)})),this.m(e,r))},o(e){_&&(e=i(e,2),s||(s=I(t,o,V,{},!1)),s.run(0,()=>{e(),s=null}),p||(p=I(t,n,V,{},!1)),p.run(0,()=>{e(),p=null}),_=!1)},d(t){t&&u(n),f(o,"input",N),t&&s&&s.abort(),$.d(),f(m,"click",x),t&&p&&p.abort()}}}function yt(t,e){var n;return{c(){n=h("set")},m(t,e){l(t,n,e)},d(t){t&&u(n)}}}function vt(t,e){var n;return{c(){n=h("change")},m(t,e){l(t,n,e)},d(t){t&&u(n)}}}function _t(t,e){var n,o,r,s,i,a,m,p=e.item.name,v=e.item.price&&bt(t,e);function b(e){t.checkItem()}return{c(){n=d("button"),o=d("input"),s=h("\n            "),i=h(p),a=h(" "),v&&v.c(),y(o,"type","checkbox"),o.checked=r=e.item.done,o.className="svelte-evs4ho",g(n,"click",b),n.className="btn btn-lg btn-block btn-outline-success list-group-item-action d-flex align-items-center svelte-evs4ho",n.disabled=m=!e.showButton},m(t,e){l(t,n,e),c(n,o),c(n,s),c(n,i),c(n,a),v&&v.m(n,null)},p(e,s){e.item&&r!==(r=s.item.done)&&(o.checked=r),e.item&&p!==(p=s.item.name)&&_(i,p),s.item.price?v?v.p(e,s):((v=bt(t,s)).c(),v.m(n,null)):v&&(v.d(1),v=null),e.showButton&&m!==(m=!s.showButton)&&(n.disabled=m)},d(t){t&&u(n),v&&v.d(),f(n,"click",b)}}}function bt(t,e){var n,o,r,s=G(e.item.price);return{c(){n=h("("),o=h(s),r=h(")")},m(t,e){l(t,n,e),l(t,o,e),l(t,r,e)},p(t,e){t.item&&s!==(s=G(e.item.price))&&_(o,s)},d(t){t&&(u(n),u(o),u(r))}}}function wt(t){j(this,t),this._state=r({newName:null,newPrice:null,showButton:!0,showMenu:!1,showRename:!1,showReprice:!1},t.data),this._intro=!!t.intro,this._handlers.state=[dt],dt.call(this,{changed:s({},this._state),current:this._state}),this._fragment=function(t,e){var n,o,r,s,a,m,p,v,_,b,N,C,k,$,M,P,R,B,A,O;function T(n){t.set({showMenu:!e.showMenu})}function F(n){t.set({showRename:!e.showRename,showReprice:!1,showButton:e.showRename,showMenu:!1})}function j(t){return t.item.price?pt:ht}var S=j(e),E=S(t,e);function L(n){t.set({showRename:!1,showReprice:!e.showReprice,showButton:e.showReprice,showMenu:!1})}function U(e){t.deleteItem()}var W=e.showRename&&gt(t,e),q=e.showReprice&&ft(t,e),z=e.showButton&&_t(t,e);return{c(){n=d("div"),o=d("div"),r=d("button"),s=h("\n\n\n        "),a=d("div"),(m=d("button")).textContent="save",p=h("\n\n            "),(v=d("button")).textContent="rename",_=h("\n\n            "),b=d("button"),E.c(),N=h("\n\n            "),C=d("div"),k=h("\n            "),($=d("button")).textContent="delete",M=h("\n\n    "),P=d("div"),W&&W.c(),R=h("\n\n        "),q&&q.c(),B=h("\n\n        "),z&&z.c(),g(r,"click",T),r.className="btn btn-outline-dark dropdown-toggle",r.type="button",r.dataset.toggle="dropdown",y(r,"aria-haspopup","true"),y(r,"aria-expanded","false"),m.className="dropdown-item",g(v,"click",F),v.className="dropdown-item",g(b,"click",L),b.className="dropdown-item",y(C,"role","separator"),C.className="dropdown-divider",g($,"click",U),$.className="dropdown-item",a.className="dropdown-menu",w(a,"show",e.showMenu),o.className="input-group-prepend",P.className="form-control bigbutton svelte-evs4ho",n.className="input-group mb-1"},m(t,e){l(t,n,e),c(n,o),c(o,r),c(o,s),c(o,a),c(a,m),c(a,p),c(a,v),c(a,_),c(a,b),E.m(b,null),c(a,N),c(a,C),c(a,k),c(a,$),c(n,M),c(n,P),W&&W.i(P,null),c(P,R),q&&q.i(P,null),c(P,B),z&&z.m(P,null),O=!0},p(n,o){S!==(S=j(e=o))&&(E.d(1),(E=S(t,e)).c(),E.m(b,null)),n.showMenu&&w(a,"show",e.showMenu),e.showRename?(W?W.p(n,e):(W=gt(t,e))&&W.c(),W.i(P,R)):W&&(x(),W.o(function(){W.d(1),W=null})),e.showReprice?(q?q.p(n,e):(q=ft(t,e))&&q.c(),q.i(P,B)):q&&(x(),q.o(function(){q.d(1),q=null})),e.showButton?z?z.p(n,e):((z=_t(t,e)).c(),z.m(P,null)):z&&(z.d(1),z=null)},i(e,o){O||(t.root._intro&&(A&&A.invalidate(),t.root._aftercreate.push(()=>{A||(A=I(t,n,D,{},!0)),A.run(1)})),this.m(e,o))},o(e){O&&(e=i(e,3),W?W.o(e):e(),q?q.o(e):e(),A||(A=I(t,n,D,{},!1)),A.run(0,()=>{e(),A=null}),O=!1)},d(t){t&&u(n),f(r,"click",T),f(v,"click",F),E.d(),f(b,"click",L),f($,"click",U),W&&W.d(),q&&q.d(),z&&z.d(),t&&A&&A.abort()}}}(this,this._state),this.root._oncreate.push(()=>{(function(){}).call(this),this.fire("update",{changed:s({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),T(this)),this._intro=!0}r(wt.prototype,J),r(wt.prototype,mt),wt.prototype._differs=A;var Nt=wt;n(2);var Ct={addCustomItem(){const{items:t}=this.store.get(),{customItemName:e,customItemPrice:n,category:o}=this.get();if(e){const r={name:e,price:Number.parseFloat(n),category:o};this.store.set({items:[...t,r]}),this.set({customItemName:null,customItemPrice:null,showAddPrice:!1,showCustomMenu:!1})}},toggleFolded(t){const{folded:e}=this.store.get();e[t]=!e[t],console.dir({toggleFolded:e}),this.store.set({folded:{...e}})},sort(t){const{items:e}=this.store.get();console.debug({cat:t});const n=e.filter(({category:e})=>t===e).sort((t,e)=>t.done!==e.done),o=e.filter(({category:e})=>t!==e);this.store.set({items:[...n,...o]})},clear(t){const{items:e}=this.store.get();console.debug({cat:t});const n=e.filter(({category:e})=>t===e);n.forEach(t=>t.done=!1);const o=e.filter(({category:e})=>t!==e);this.store.set({items:[...n,...o]})}};function kt(t,e,n){const o=Object.create(t);return o.item=e[n],o.idx=n,o}function It(t,e){var n,o,r,s,i=G(e.$sumByCategory[e.category]);return{c(){n=d("small"),o=h("( "),r=h(i),s=h(" )")},m(t,e){l(t,n,e),c(n,o),c(n,r),c(n,s)},p(t,e){(t.$sumByCategory||t.category)&&i!==(i=G(e.$sumByCategory[e.category]))&&_(r,i)},d(t){t&&u(n)}}}function $t(t,e){var n;return{c(){n=h("□")},m(t,e){l(t,n,e)},d(t){t&&u(n)}}}function xt(t,e){var n;return{c(){n=h("_")},m(t,e){l(t,n,e)},d(t){t&&u(n)}}}function Mt(t,e){var n,o,r,s=e.$progress[e.category].done,i=e.$progress[e.category].all;return{c(){n=h(s),o=h(" / "),r=h(i)},m(t,e){l(t,n,e),l(t,o,e),l(t,r,e)},p(t,e){(t.$progress||t.category)&&s!==(s=e.$progress[e.category].done)&&_(n,s),(t.$progress||t.category)&&i!==(i=e.$progress[e.category].all)&&_(r,i)},d(t){t&&(u(n),u(o),u(r))}}}function Pt(t,e){for(var n,o,r,s,a,p,w,N,C,k,$,M,P,R,B,A,O,T,F,j,S,E,L,U,W,q,z,J,H,K=e.showCustomMenu?"-":"+",V=!1,G=!1,Q=e.$items,X=[],Y=0;Y<Q.length;Y+=1)X[Y]=Bt(t,kt(e,Q,Y));function Z(t,e,n){X[t]&&X[t].o(()=>{e&&(X[t].d(e),X[t]=null),n&&n()})}var tt=!e.showCustomMenu&&At(t,e);function et(n){t.set({showCustomMenu:!e.showCustomMenu,showAddPrice:!1})}function nt(){V=!0,t.set({customItemName:B.value}),V=!1}function ot(n){t.set({showAddPrice:!e.showAddPrice})}function rt(){G=!0,t.set({customItemPrice:v(j.value)}),G=!1}function st(e){t.fire("showCatalogue")}function it(e){t.addCustomItem()}return{c(){n=d("div"),o=d("div");for(var t=0;t<X.length;t+=1)X[t].c();s=h("\n\n    "),a=d("div"),p=d("div"),w=d("div"),tt&&tt.c(),N=h("\n            "),C=d("div"),k=d("div"),$=d("div"),M=d("button"),P=h(K),R=h("\n\n                        "),B=d("input"),A=h("\n\n                        "),O=d("button"),T=h("€"),F=h("\n\n                    "),j=d("input"),S=h("\n\n\n                    "),E=d("button"),L=h("add"),U=h("\n\n                    "),W=d("button"),q=h("add"),o.className="row mb-4",n.className="card-body svelte-6b4gao",w.className="col btn-group",g(M,"click",et),M.type="button",M.className="btn btn-outline-secondary",g(B,"input",nt),y(B,"type","text"),B.className="form-control",y(B,"aria-label","item"),b(B,"display",e.showCustomMenu?"block":"none"),B.placeholder="new item",g(O,"click",ot),O.type="button",O.className="btn btn-outline-warning",b(O,"display",e.showCustomMenu&&!e.showAddPrice?"block":"none"),$.className="input-group-prepend",g(j,"input",rt),y(j,"type","number"),j.className="form-control",y(j,"aria-label","price"),b(j,"display",e.showCustomMenu&&e.showAddPrice?"block":"none"),j.placeholder="price",g(E,"click",st),E.type="button",E.className="btn btn-success",b(E,"display",e.showCustomMenu?"none":"block"),g(W,"click",it),W.type="button",W.className="btn btn-primary",b(W,"display",e.showCustomMenu?"block":"none"),k.className="input-group",C.className=z=e.showCustomMenu?"col-12":"col-4",p.className="row justify-content-end",a.className="card-footer svelte-6b4gao"},m(t,r){l(t,n,r),c(n,o);for(var i=0;i<X.length;i+=1)X[i].i(o,null);l(t,s,r),l(t,a,r),c(a,p),c(p,w),tt&&tt.m(w,null),c(p,N),c(p,C),c(C,k),c(k,$),c($,M),c(M,P),c($,R),c($,B),B.value=e.customItemName,c($,A),c($,O),c(O,T),c(k,F),c(k,j),j.value=e.customItemPrice,c(k,S),c(k,E),c(E,L),c(k,U),c(k,W),c(W,q),H=!0},p(n,r){if(e=r,n.category||n.$items){Q=e.$items;for(var s=0;s<Q.length;s+=1){const r=kt(e,Q,s);X[s]?X[s].p(n,r):(X[s]=Bt(t,r),X[s].c()),X[s].i(o,null)}for(x();s<X.length;s+=1)Z(s,1)}e.showCustomMenu?tt&&(tt.d(1),tt=null):tt?tt.p(n,e):((tt=At(t,e)).c(),tt.m(w,null)),H&&!n.showCustomMenu||K===(K=e.showCustomMenu?"-":"+")||_(P,K),!V&&n.customItemName&&(B.value=e.customItemName),H&&!n.showCustomMenu||b(B,"display",e.showCustomMenu?"block":"none"),(!H||n.showCustomMenu||n.showAddPrice)&&b(O,"display",e.showCustomMenu&&!e.showAddPrice?"block":"none"),!G&&n.customItemPrice&&(j.value=e.customItemPrice),(!H||n.showCustomMenu||n.showAddPrice)&&b(j,"display",e.showCustomMenu&&e.showAddPrice?"block":"none"),H&&!n.showCustomMenu||(b(E,"display",e.showCustomMenu?"none":"block"),b(W,"display",e.showCustomMenu?"block":"none")),H&&!n.showCustomMenu||z===(z=e.showCustomMenu?"col-12":"col-4")||(C.className=z)},i(e,o){H||(t.root._intro&&(r&&r.invalidate(),t.root._aftercreate.push(()=>{r||(r=I(t,n,D,{},!0)),r.run(1)}),J&&J.invalidate(),t.root._aftercreate.push(()=>{J||(J=I(t,a,D,{},!0)),J.run(1)})),this.m(e,o))},o(e){if(!H)return;e=i(e,3),X=X.filter(Boolean);const o=i(e,X.length);for(let t=0;t<X.length;t+=1)Z(t,0,o);r||(r=I(t,n,D,{},!1)),r.run(0,()=>{e(),r=null}),J||(J=I(t,a,D,{},!1)),J.run(0,()=>{e(),J=null}),H=!1},d(t){t&&u(n),m(X,t),t&&(r&&r.abort(),u(s),u(a)),tt&&tt.d(),f(M,"click",et),f(B,"input",nt),f(O,"click",ot),f(j,"input",rt),f(E,"click",st),f(W,"click",it),t&&J&&J.abort()}}}function Rt(t,e){var n,o={item:e.item,idx:e.idx},r=new Nt({root:t.root,store:t.store,data:o});return{c(){r._fragment.c()},m(t,e){r._mount(t,e),n=!0},p(t,e){var n={};t.$items&&(n.item=e.item),r._set(n)},i(t,e){n||this.m(t,e)},o(t){n&&(r&&r._fragment.o(t),n=!1)},d(t){r.destroy(t)}}}function Bt(t,e){var n,o,r=e.category===e.item.category&&Rt(t,e);return{c(){r&&r.c(),n=p()},m(t,e){r&&r.m(t,e),l(t,n,e),o=!0},p(e,o){o.category===o.item.category?(r?r.p(e,o):(r=Rt(t,o))&&r.c(),r.i(n.parentNode,n)):r&&(x(),r.o(function(){r.d(1),r=null}))},i(t,e){o||this.m(t,e)},o(t){o&&(r?r.o(t):t(),o=!1)},d(t){r&&r.d(t),t&&u(n)}}}function At(t,e){var n,o,r;function s(n){t.clear(e.category)}function i(n){t.sort(e.category)}return{c(){(n=d("button")).textContent="× clear",o=h("\n                "),(r=d("button")).textContent="☰ sort",g(n,"click",s),n.type="button",n.className="btn btn-danger",g(r,"click",i),r.type="button",r.className="btn btn-secondary"},m(t,e){l(t,n,e),l(t,o,e),l(t,r,e)},p(t,n){e=n},d(t){t&&u(n),f(n,"click",s),t&&(u(o),u(r)),f(r,"click",i)}}}function Ot(t){j(this,t),this._state=r(r(this.store._init(["sumByCategory","folded","progress","items"]),{showCustomMenu:!1,showAddPrice:!1,customItemName:null,customItemPrice:null}),t.data),this.store._add(this,["sumByCategory","folded","progress","items"]),this._intro=!!t.intro,this._handlers.destroy=[z],this._fragment=function(t,e){var n,o,r,s,a,m,p,v,w,N,C,k,$,M,P,R,B,A=e.$sumByCategory[e.category]&&It(0,e);function O(t){return t.$folded[t.category]?$t:xt}var T=O(e),F=T(t,e);function j(n){t.toggleFolded(e.category)}var S=e.$progress[e.category].done>0&&Mt(0,e),E=!e.$folded[e.category]&&Pt(t,e);return{c(){n=d("section"),o=d("div"),r=d("h4"),s=d("a"),a=h(e.category),p=h("\n            "),A&&A.c(),v=h("\n            "),w=d("button"),N=d("span"),F.c(),C=h("\n\n        "),k=d("div"),$=d("div"),S&&S.c(),P=h("\n\n    "),E&&E.c(),s.href=m="#"+e.category,y(s,"name",e.category),y(N,"aria-hidden","true"),w.type="button",w.className="close",w.title="Close",g(r,"click",j),$.className="progress-bar",y($,"role","progressbar"),b($,"width",e.$progress[e.category].percent+"%"),y($,"aria-valuenow",M=e.$progress[e.category].percent),y($,"aria-valuemin","0"),y($,"aria-valuemax","100"),k.className="progress",b(k,"height","30px"),o.className="card-header svelte-6b4gao",n.className="card svelte-6b4gao"},m(t,e){l(t,n,e),c(n,o),c(o,r),c(r,s),c(s,a),c(r,p),A&&A.m(r,null),c(r,v),c(r,w),c(w,N),F.m(N,null),c(o,C),c(o,k),c(k,$),S&&S.m($,null),c(n,P),E&&E.i(n,null),B=!0},p(o,i){e=i,B&&!o.category||_(a,e.category),B&&!o.category||m===(m="#"+e.category)||(s.href=m),B&&!o.category||y(s,"name",e.category),e.$sumByCategory[e.category]?A?A.p(o,e):((A=It(0,e)).c(),A.m(r,v)):A&&(A.d(1),A=null),T!==(T=O(e))&&(F.d(1),(F=T(t,e)).c(),F.m(N,null)),e.$progress[e.category].done>0?S?S.p(o,e):((S=Mt(0,e)).c(),S.m($,null)):S&&(S.d(1),S=null),(!B||o.$progress||o.category)&&b($,"width",e.$progress[e.category].percent+"%"),B&&!o.$progress&&!o.category||M===(M=e.$progress[e.category].percent)||y($,"aria-valuenow",M),e.$folded[e.category]?E&&(x(),E.o(function(){E.d(1),E=null})):(E?E.p(o,e):(E=Pt(t,e))&&E.c(),E.i(n,null))},i(e,o){B||(t.root._intro&&(R&&R.invalidate(),t.root._aftercreate.push(()=>{R||(R=I(t,n,D,{},!0)),R.run(1)})),this.m(e,o))},o(e){B&&(e=i(e,2),E?E.o(e):e(),R||(R=I(t,n,D,{},!1)),R.run(0,()=>{e(),R=null}),B=!1)},d(t){t&&u(n),A&&A.d(),F.d(),f(r,"click",j),S&&S.d(),E&&E.d(),t&&R&&R.abort()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),T(this)),this._intro=!0}r(Ot.prototype,J),r(Ot.prototype,Ct),Ot.prototype._differs=A;var Tt=Ot;n(3);function Ft(t,e,n){const o=Object.create(t);return o.item=e[n],o}function jt(t,e){var n;return{c(){n=h("□")},m(t,e){l(t,n,e)},d(t){t&&u(n)}}}function St(t,e){var n;return{c(){n=h("_")},m(t,e){l(t,n,e)},d(t){t&&u(n)}}}function Et(t,e){for(var n,o=e.items,r=[],s=0;s<o.length;s+=1)r[s]=Lt(t,Ft(e,o,s));return{c(){for(var t=0;t<r.length;t+=1)r[t].c();n=p()},m(t,e){for(var o=0;o<r.length;o+=1)r[o].m(t,e);l(t,n,e)},p(e,s){if(e.items){o=s.items;for(var i=0;i<o.length;i+=1){const a=Ft(s,o,i);r[i]?r[i].p(e,a):(r[i]=Lt(t,a),r[i].c(),r[i].m(n.parentNode,n))}for(;i<r.length;i+=1)r[i].d(1);r.length=o.length}},d(t){m(r,t),t&&u(n)}}}function Lt(t,e){var n,o,r,s,i,a,m,p,g,f,v,b=e.item.name,w=e.item.category;return{c(){n=d("div"),o=d("label"),r=d("input"),i=h(" "),a=h(b),m=h("\n\t\t\t\t"),p=d("span"),g=h(w),v=h("\n\t\t\t"),y(r,"type","checkbox"),r.disabled=!0,r.checked=s=e.item.done,p.className=f="badge "+X(e.item.category)+"  svelte-6b4gao",n.className="checkbox"},m(t,e){l(t,n,e),c(n,o),c(o,r),c(o,i),c(o,a),c(o,m),c(o,p),c(p,g),c(o,v)},p(t,e){t.items&&s!==(s=e.item.done)&&(r.checked=s),t.items&&b!==(b=e.item.name)&&_(a,b),t.items&&w!==(w=e.item.category)&&_(g,w),t.items&&f!==(f="badge "+X(e.item.category)+"  svelte-6b4gao")&&(p.className=f)},d(t){t&&u(n)}}}function Ut(t){j(this,t),this._state=r({foldList:!1},t.data),this._intro=!!t.intro,this._fragment=function(t,e){var n,o,r,s,i,a,m,p,v,_;function b(t){return t.foldList?St:jt}var w=b(e),N=w(t,e);function C(n){t.set({foldList:!e.foldList})}var k=e.foldList&&Et(t,e);return{c(){n=d("section"),o=d("div"),r=d("h5"),s=h("Overview\n\t\t\t"),i=d("button"),a=d("span"),N.c(),m=h("\n\t"),p=d("div"),k&&k.c(),y(a,"aria-hidden","true"),i.type="button",i.className="close",i.title="Close",g(r,"click",C),o.className="card-header svelte-6b4gao",p.className="card-body svelte-6b4gao",n.className="card svelte-6b4gao"},m(t,e){l(t,n,e),c(n,o),c(o,r),c(r,s),c(r,i),c(i,a),N.m(a,null),c(n,m),c(n,p),k&&k.m(p,null),_=!0},p(n,o){w!==(w=b(e=o))&&(N.d(1),(N=w(t,e)).c(),N.m(a,null)),e.foldList?k?k.p(n,e):((k=Et(t,e)).c(),k.m(p,null)):k&&(k.d(1),k=null)},i(e,o){_||(t.root._intro&&(v&&v.invalidate(),t.root._aftercreate.push(()=>{v||(v=I(t,n,D,{},!0)),v.run(1)})),this.m(e,o))},o(e){_&&(v||(v=I(t,n,D,{},!1)),v.run(0,()=>{e(),v=null}),_=!1)},d(t){t&&u(n),N.d(),f(r,"click",C),k&&k.d(),t&&v&&v.abort()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),T(this)),this._intro=!0}r(Ut.prototype,J),Ut.prototype._differs=A;var Wt=Ut;n(4);var qt={addItem({name:t,category:e,price:n}){const{items:o}=this.store.get(),r={name:t,category:e,price:n,done:!1};this.store.set({items:[...o,r]}),this.closeCatalogue(1500)},showCatalogue(){clearTimeout(this.TIMEOUT),console.debug("showing catalogue"),this.set({showCatalogue:!0})},closeCatalogue(t){console.debug(`closing Catalogue in ${t}ms`),this.TIMEOUT&&clearTimeout(this.TIMEOUT),this.TIMEOUT=setTimeout(()=>{this.set({showCatalogue:!1})},t)}};function zt(t,e,n){const o=Object.create(t);return o.category=e[n],o}function Jt(t,e){var n,o,r,s=new ut({root:t.root,store:t.store});return s.on("addItem",function(e){t.addItem(e)}),s.on("close",function(e){t.closeCatalogue(0)}),{c(){n=d("div"),s._fragment.c(),n.className="col-md-6"},m(t,e){l(t,n,e),s._mount(n,null),r=!0},i(e,s){r||(t.root._intro&&(o&&o.invalidate(),t.root._aftercreate.push(()=>{o||(o=I(t,n,D,{},!0)),o.run(1)})),this.m(e,s))},o(e){r&&(e=i(e,2),s&&s._fragment.o(e),o||(o=I(t,n,D,{},!1)),o.run(0,()=>{e(),o=null}),r=!1)},d(t){t&&u(n),s.destroy(),t&&o&&o.abort()}}}function Ht(t,e){var n,o={category:e.category},r=new Tt({root:t.root,store:t.store,data:o});return r.on("showCatalogue",function(e){t.showCatalogue()}),{c(){r._fragment.c()},m(t,e){r._mount(t,e),n=!0},p(t,e){var n={};t.$categories&&(n.category=e.category),r._set(n)},i(t,e){n||this.m(t,e)},o(t){n&&(r&&r._fragment.o(t),n=!1)},d(t){r.destroy(t)}}}function Kt(t,e){var n,o,r=e.$items.filter(({category:t})=>t===e.category).length>0&&Ht(t,e);return{c(){n=d("div"),r&&r.c(),n.className="card-column"},m(t,e){l(t,n,e),r&&r.m(n,null),o=!0},p(e,o){o.$items.filter(({category:t})=>t===o.category).length>0?(r?r.p(e,o):(r=Ht(t,o))&&r.c(),r.i(n,null)):r&&(x(),r.o(function(){r.d(1),r=null}))},i(t,e){o||this.m(t,e)},o(t){o&&(r?r.o(t):t(),o=!1)},d(t){t&&u(n),r&&r.d()}}}function Vt(t){j(this,t),this._state=r(r(this.store._init(["items","categories"]),{showCatalogue:!1}),t.data),this.store._add(this,["items","categories"]),this._intro=!!t.intro,this._handlers.destroy=[z],this._fragment=function(t,e){for(var n,o,r,s,a,p,y,v,_,b,w=(e.showCatalogue||0===e.$items.length)&&Jt(t),N={items:e.$items},C=new Wt({root:t.root,store:t.store,data:N}),k=e.$categories,$=[],M=0;M<k.length;M+=1)$[M]=Kt(t,zt(e,k,M));function P(t,e,n){$[t]&&$[t].o(()=>{e&&($[t].d(e),$[t]=null),n&&n()})}function R(e){t.showCatalogue()}return{c(){n=d("div"),o=d("div"),w&&w.c(),r=h("\n\n        "),s=d("div"),a=d("div"),C._fragment.c(),p=h("\n            ");for(var t=0;t<$.length;t+=1)$[t].c();y=h("\n            "),(v=d("button")).textContent="catalogue",a.className="card-column",g(v,"click",R),v.className="btn btn-primary",s.className="col",o.className="row",n.className="container"},m(t,e){l(t,n,e),c(n,o),w&&w.i(o,null),c(o,r),c(o,s),c(s,a),C._mount(a,null),c(s,p);for(var i=0;i<$.length;i+=1)$[i].i(s,null);c(s,y),c(s,v),b=!0},p(e,n){n.showCatalogue||0===n.$items.length?(w||(w=Jt(t)).c(),w.i(o,r)):w&&(x(),w.o(function(){w.d(1),w=null}));var i={};if(e.$items&&(i.items=n.$items),C._set(i),e.$items||e.$categories){k=n.$categories;for(var a=0;a<k.length;a+=1){const o=zt(n,k,a);$[a]?$[a].p(e,o):($[a]=Kt(t,o),$[a].c()),$[a].i(s,y)}for(x();a<$.length;a+=1)P(a,1)}},i(e,n){b||(t.root._intro&&(_&&_.invalidate(),t.root._aftercreate.push(()=>{_||(_=I(t,s,D,{},!0)),_.run(1)})),this.m(e,n))},o(e){if(!b)return;e=i(e,4),w?w.o(e):e(),C&&C._fragment.o(e),$=$.filter(Boolean);const n=i(e,$.length);for(let t=0;t<$.length;t+=1)P(t,0,n);_||(_=I(t,s,D,{},!1)),_.run(0,()=>{e(),_=null}),b=!1},d(t){t&&u(n),w&&w.d(),C.destroy(),m($,t),f(v,"click",R),t&&_&&_.abort()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),T(this)),this._intro=!0}r(Vt.prototype,J),r(Vt.prototype,qt),Vt.prototype._differs=A;var Dt=Vt;const Gt=new class extends H{}({items:[],folded:{},catalogue:{items:[{name:"Milch",category:"shopping",price:.85},{name:"Butter",category:"shopping",price:2.29},{name:"Mehl",category:"shopping",price:.6},{name:"Bier",category:"shopping",price:20},{name:"TÜV",category:"AUTO"},{name:"Waschen",category:"AUTO"},{name:"Saugen",category:"wohnung"},{name:"Küche",category:"wohnung"},{name:"Bad",category:"wohnung"}]}}),Qt=JSON.parse(localStorage.getItem("zutun"));Qt&&Gt.set(Qt),Gt.on("state",({current:t})=>{const{catalogue:e,items:n,folded:o}=t;localStorage.setItem("zutun",JSON.stringify({catalogue:e,items:n,folded:o})),console.dir({storeState:t})}),Gt.compute("categories",["items"],t=>Array.from(new Set(t.map(({category:t})=>t))).sort()),Gt.compute("sumByCategory",["items"],t=>{const e={};return t.forEach(t=>{e[t.category]=e[t.category]||0,t.price&&(e[t.category]+=t.price)}),e}),Gt.compute("progress",["items"],t=>{const e={};return t.forEach(t=>{const n=e[t.category]||{open:0,done:0,all:0,percent:0};t.done?n.done+=1:n.open+=1,n.all+=1,n.percent=Math.floor(n.done/n.all*100),e[t.category]=n}),e});const Xt=new Dt({target:document.body,store:Gt});window.app=Xt;e.default=Xt}]);