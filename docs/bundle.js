!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(8)},function(t,e,n){},,function(t,e,n){},,function(t,e,n){},,,function(t,e,n){"use strict";function a(){}function o(t,e){for(var n in e)t[n]=e[n];return t}function s(t,e){return 0===e&&t(),()=>{--e||t()}}function r(t){t()}function i(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n)}function l(t){t.parentNode.removeChild(t)}function u(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(t,e,n){t.addEventListener(e,n,!1)}function h(t,e,n){t.removeEventListener(e,n,!1)}function f(t,e,n){t.setAttribute(e,n)}function g(t,e){t.data=""+e}function b(t){return t}function v({a:t,b:e,delta:n,duration:a},o,s){const r=16.666/a;let i="{\n";for(let e=0;e<=1;e+=r){const a=t+n*o(e);i+=100*e+`%{${s(a,1-a)}}\n`}return i+`100% {${s(e,1-e)}}\n}`}function _(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function T(t,e,n,o,s){let i,c,l,u=n.call(t,e,o),d=!1;return{t:s?0:1,running:!1,program:null,pending:null,run(t,e){"function"==typeof u?N.wait().then(()=>{u=u(),this._run(t,e)}):this._run(t,e)},_run(t,n){i=u.duration||300,c=u.easing||b;const o={start:window.performance.now()+(u.delay||0),b:t,callback:n||a};s&&!d&&(u.css&&u.delay&&(l=e.style.cssText,e.style.cssText+=u.css(0,1)),u.tick&&u.tick(0,1),d=!0),t||(o.group=y.current,y.current.remaining+=1),u.delay?this.pending=o:this.start(o),this.running||(this.running=!0,N.add(this))},start(n){if(t.fire(`${n.b?"intro":"outro"}.start`,{node:e}),n.a=this.t,n.delta=n.b-n.a,n.duration=i*Math.abs(n.b-n.a),n.end=n.start+n.duration,u.css){u.delay&&(e.style.cssText=l);const t=v(n,c,u.css);N.addRule(t,n.name="__svelte_"+_(t)),e.style.animation=(e.style.animation||"").split(", ").filter(t=>t&&(n.delta<0||!/__svelte/.test(t))).concat(`${n.name} ${n.duration}ms linear 1 forwards`).join(", ")}this.program=n,this.pending=null},update(t){const e=this.program;if(!e)return;const n=t-e.start;this.t=e.a+e.delta*c(n/e.duration),u.tick&&u.tick(this.t,1-this.t)},done(){const n=this.program;this.t=n.b,u.tick&&u.tick(this.t,1-this.t),t.fire(`${n.b?"intro":"outro"}.end`,{node:e}),n.b||n.invalidated?u.css&&N.deleteRule(e,n.name):(n.group.callbacks.push(()=>{n.callback(),u.css&&N.deleteRule(e,n.name)}),0==--n.group.remaining&&n.group.callbacks.forEach(r)),this.running=!!this.pending},abort(t){this.program&&(t&&u.tick&&u.tick(1,0),u.css&&N.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate(){this.program&&(this.program.invalidated=!0)}}}n.r(e);let y={};function x(){y.current={remaining:0,callbacks:[]}}var N={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule(t,e){if(!this.stylesheet){const t=d("style");document.head.appendChild(t),N.stylesheet=t.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule(`@keyframes ${e} ${t}`,this.stylesheet.cssRules.length))},next(){this.running=!1;const t=window.performance.now();let e=this.transitions.length;for(;e--;){const n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){let t=this.stylesheet.cssRules.length;for(;t--;)this.stylesheet.deleteRule(t);this.activeRules={}}},deleteRule(t,e){t.style.animation=t.style.animation.split(", ").filter(t=>t&&-1===t.indexOf(e)).join(", ")},wait:()=>(N.promise||(N.promise=Promise.resolve(),N.promise.then(()=>{N.promise=null})),N.promise)};function C(){return Object.create(null)}function w(t){this.destroy=a,this.fire("destroy"),this.set=a,this._fragment.d(!1!==t),this._fragment=null,this._state={}}function k(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function I(t,e){return t!=t?e==e:t!==e}function O(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var a=0;a<n.length;a+=1){var o=n[a];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function j(t){t._lock=!0,F(t._beforecreate),F(t._oncreate),F(t._aftercreate),t._lock=!1}function R(){return this._state}function S(t,e){t._handlers=C(),t._slots=C(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function E(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function M(t){this._set(o({},t)),this.root._lock||j(this.root)}function $(t){var e=this._state,n={},a=!1;for(var s in t)this._differs(t[s],e[s])&&(n[s]=a=!0);a&&(this._state=o(o({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))}function F(t){for(;t&&t.length;)t.shift()()}function P(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)}var L={destroy:w,get:R,fire:O,on:E,set:M,_recompute:a,_set:$,_mount:P,_differs:k},A=/\[\s*(\d+)\s*\]/g;function B(t){return function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var o=e.replace(A,".$1").split("."),s=o.shift(),r=this.get()[s],i=r;o.length;)i=i[o.shift()];var c,l=i[t].apply(i,n);return this.set(((c={})[s]=r,c)),l}}B("push"),B("pop"),B("shift"),B("unshift");var H=B("splice");B("sort"),B("reverse");function J(t){var e=t-1;return e*e*e+1}var U=function(t,e){var n=e.delay;void 0===n&&(n=0);var a=e.duration;void 0===a&&(a=400);var o=e.easing;void 0===o&&(o=J);var s=getComputedStyle(t),r=+s.opacity,i=parseFloat(s.height),c=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),u=parseFloat(s.marginTop),d=parseFloat(s.marginBottom),p=parseFloat(s.borderTopWidth),m=parseFloat(s.borderBottomWidth);return{delay:n,duration:a,easing:o,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*r+";height: "+t*i+"px;padding-top: "+t*c+"px;padding-bottom: "+t*l+"px;margin-top: "+t*u+"px;margin-bottom: "+t*d+"px;border-top-width: "+t*p+"px;border-bottom-width: "+t*m+"px;"}}};n(1);function q(t){return"number"==typeof t&&t.toFixed(2).toString().replace(".",",")+"€"}var K={selectTab(t){console.debug(t)}};function W(t,e){var n,a,o,s,r,u,b,v,_,T,y,x=e.idx+1,N=e.product.name,C=q(e.product.price);return{c(){n=d("tr"),a=d("th"),o=p(x),s=p("\n\t\t\t\t\t"),r=d("td"),u=p(N),b=p("\n\t\t\t\t\t"),v=d("td"),(_=d("button")).textContent="×",T=p("\n\n\t\t\t\t\t\t"),y=p(C),a.scope="col",r._svelte={component:t,ctx:e},m(r,"click",z),r.className="clickable svelte-1k1yhxt",_._svelte={component:t,ctx:e},m(_,"click",D),f(_,"aria-hidden","true"),_.className="btn btn-sm btn-outline-light btn-borderless",v.className="number"},m(t,e){c(t,n,e),i(n,a),i(a,o),i(n,s),i(n,r),i(r,u),i(n,b),i(n,v),i(v,_),i(v,T),i(v,y)},p(t,e){t.catalogue&&N!==(N=e.product.name)&&g(u,N),r._svelte.ctx=e,_._svelte.ctx=e,t.catalogue&&C!==(C=q(e.product.price))&&g(y,C)},d(t){t&&l(n),h(r,"click",z),h(_,"click",D)}}}function G(t,e,n){const a=Object.create(t);return a.product=e[n],a.each_value=e,a.idx=n,a}function z(t){const{component:e,ctx:n}=this._svelte;e.fire("selectProduct",{product:n.product})}function D(t){const{component:e,ctx:n}=this._svelte;e.fire("removeCatalogueIdx",{idx:n.idx})}function Q(t){S(this,t),this._state=o({},t.data),this._intro=!!t.intro,this._fragment=function(t,e){var n,a,o,s,r,g,b,v,_,y,x,N,C,w,k,I,O,j,R,S=!1,E=!1;function M(e){t.fire("close")}for(var $=e.catalogue,F=[],P=0;P<$.length;P+=1)F[P]=W(t,G(e,$,P));function L(){S=!0,e.newCatalogueItem.name=N.value,t.set({newCatalogueItem:e.newCatalogueItem}),S=!1}function A(){E=!0,e.newCatalogueItem.price=w.value,t.set({newCatalogueItem:e.newCatalogueItem}),E=!1}function B(e){t.fire("addToCatalogue")}return{c(){n=d("div"),a=d("div"),(o=d("button")).innerHTML='<span aria-hidden="true">×</span>',s=p("\n\t\t"),(r=d("h3")).textContent="Products",g=p("\n\n\t\t"),b=d("table"),v=d("tbody");for(var t=0;t<F.length;t+=1)F[t].c();_=p("\n\t"),y=d("div"),x=d("div"),N=d("input"),C=p("\n\t\t\t\t"),w=d("input"),k=p("\n\t\t\t\t"),I=d("div"),(O=d("button")).textContent="+",m(o,"click",M),o.type="button",o.className="close",o.title="Close",r.className="card-title",b.className="table table-sm table-striped",a.className="card-body",m(N,"input",L),f(N,"type","text"),N.className="form-control",N.placeholder="name",m(w,"input",A),f(w,"type","text"),w.className="form-control",w.placeholder="price",m(O,"click",B),O.className="btn btn-sm btn-success",I.className="input-group-append",x.className="input-group input-group-sm mb-3",y.className="card-footer",n.className="card"},m(t,l){c(t,n,l),i(n,a),i(a,o),i(a,s),i(a,r),i(a,g),i(a,b),i(b,v);for(var u=0;u<F.length;u+=1)F[u].m(v,null);i(n,_),i(n,y),i(y,x),i(x,N),N.value=e.newCatalogueItem.name,i(x,C),i(x,w),w.value=e.newCatalogueItem.price,i(x,k),i(x,I),i(I,O),R=!0},p(n,a){if(e=a,n.catalogue){$=e.catalogue;for(var o=0;o<$.length;o+=1){const a=G(e,$,o);F[o]?F[o].p(n,a):(F[o]=W(t,a),F[o].c(),F[o].m(v,null))}for(;o<F.length;o+=1)F[o].d(1);F.length=$.length}S||(N.value=e.newCatalogueItem.name),E||(w.value=e.newCatalogueItem.price)},i(e,a){R||(t.root._intro&&(j&&j.invalidate(),t.root._aftercreate.push(()=>{j||(j=T(t,n,U,{},!0)),j.run(1)})),this.m(e,a))},o(e){R&&(j||(j=T(t,n,U,{},!1)),j.run(0,()=>{e(),j=null}),R=!1)},d(t){t&&l(n),h(o,"click",M),u(F,t),h(N,"input",L),h(w,"input",A),h(O,"click",B),t&&j&&j.abort()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),j(this)),this._intro=!0}o(Q.prototype,L),o(Q.prototype,K),Q.prototype._differs=I;var V=Q;n(3);function X(t){return"number"==typeof t&&t.toFixed(2).toString().replace(".",",")+"€"}var Y={selectTab(t){console.debug(t)}};function Z(t,e){var n,a,o,s,r,u,b,v,_=e.product,T=X(e.price);return{c(){n=d("tr"),a=d("td"),o=p(_),s=p("\n                "),r=d("td"),(u=d("button")).textContent="×",b=p("\n                "),v=p(T),u._svelte={component:t,ctx:e},m(u,"click",st),f(u,"aria-hidden","true"),u.className="btn btn-sm btn-outline-light btn-borderless",r.className="number"},m(t,e){c(t,n,e),i(n,a),i(a,o),i(n,s),i(n,r),i(r,u),i(r,b),i(r,v)},p(t,e){(t.Object||t.tap)&&_!==(_=e.product)&&g(o,_),u._svelte.ctx=e,(t.Object||t.tap)&&T!==(T=X(e.price))&&g(v,T)},d(t){t&&l(n),h(u,"click",st)}}}function tt(t,e){var n;function a(n){t.fire("clearTap",{name:e.name})}return{c(){(n=d("button")).textContent="× clear",m(n,"click",a),n.className="btn btn-outline-danger btn-sm"},m(t,e){c(t,n,e)},p(t,n){e=n},d(t){t&&l(n),h(n,"click",a)}}}function et(t,e){var n;return{c(){(n=d("small")).textContent="Nothing yet",n.className="text-muted"},m(t,e){c(t,n,e)},p:a,d(t){t&&l(n)}}}function nt(t,e){var n;function a(n){t.fire("addToTap",{name:e.name})}return{c(){(n=d("button")).textContent="+ add",m(n,"click",a),n.className="btn btn-primary btn-sm"},m(t,e){c(t,n,e)},p(t,n){e=n},d(t){t&&l(n),h(n,"click",a)}}}function at(t,e){var n;function a(n){t.fire("addToTap",{name:e.name})}return{c(){(n=d("button")).textContent="+ add",m(n,"click",a),n.className="btn btn-outline-primary btn-sm",n.disabled=!0},m(t,e){c(t,n,e)},p(t,n){e=n},d(t){t&&l(n),h(n,"click",a)}}}function ot(t,e,n){const a=Object.create(t);return a.product=e[n].name,a.price=e[n].price,a.each_value=e,a.idx=n,a}function st(t){const{component:e,ctx:n}=this._svelte;e.fire("deleteTapEntry",{name:n.name,idx:n.idx})}function rt(t){S(this,t),this._state=o({Object:Object},t.data),this._recompute({tap:1},this._state),this._intro=!!t.intro,this._fragment=function(t,e){var n,a,o,s,r,f,b,v,_,y,x,N,C,w,k,I,O,j,R,S,E,M,$=X(e.sum),F=X(e.sum);function P(n){t.fire("close",{name:e.name})}for(var L=e.Object.values(e.tap),A=[],B=0;B<L.length;B+=1)A[B]=Z(t,ot(e,L,B));function H(t){return t.Object.values(t.tap).length>0?tt:et}var J=H(e),q=J(t,e);function K(t){return t.selectedTap!==t.name?nt:at}var W=K(e),G=W(t,e);return{c(){n=d("div"),a=d("h5"),o=p(e.name),s=p(" ("),r=p($),f=p(")\n    "),(b=d("button")).innerHTML='<span aria-hidden="true">×</span>',v=p("\n\n    "),_=d("div"),y=d("table"),x=d("tbody");for(var t=0;t<A.length;t+=1)A[t].c();N=p("\n            "),C=d("tfoot"),w=d("tr"),k=d("td"),q.c(),I=p("\n                    "),O=d("td"),j=p(F),R=p("\n    "),S=d("div"),G.c(),m(b,"click",P),b.type="button",b.className="close svelte-fodv3",b.title="Close",a.className="card-header",O.colSpan="3",O.className="number",y.className="table table-sm table-striped",_.className="card-body taplist svelte-fodv3",S.className="card-footer text-muted",n.className="card"},m(t,e){c(t,n,e),i(n,a),i(a,o),i(a,s),i(a,r),i(a,f),i(a,b),i(n,v),i(n,_),i(_,y),i(y,x);for(var l=0;l<A.length;l+=1)A[l].m(x,null);i(y,N),i(y,C),i(C,w),i(w,k),q.m(k,null),i(w,I),i(w,O),i(O,j),i(n,R),i(n,S),G.m(S,null),M=!0},p(n,a){if(e=a,M&&!n.name||g(o,e.name),M&&!n.sum||$===($=X(e.sum))||g(r,$),n.Object||n.tap||n.name){L=e.Object.values(e.tap);for(var s=0;s<L.length;s+=1){const a=ot(e,L,s);A[s]?A[s].p(n,a):(A[s]=Z(t,a),A[s].c(),A[s].m(x,null))}for(;s<A.length;s+=1)A[s].d(1);A.length=L.length}J===(J=H(e))&&q?q.p(n,e):(q.d(1),(q=J(t,e)).c(),q.m(k,null)),M&&!n.sum||F===(F=X(e.sum))||g(j,F),W===(W=K(e))&&G?G.p(n,e):(G.d(1),(G=W(t,e)).c(),G.m(S,null))},i(e,a){M||(t.root._intro&&(E&&E.invalidate(),t.root._aftercreate.push(()=>{E||(E=T(t,n,U,{},!0)),E.run(1)})),this.m(e,a))},o(e){M&&(E||(E=T(t,n,U,{},!1)),E.run(0,()=>{e(),E=null}),M=!1)},d(t){t&&l(n),h(b,"click",P),u(A,t),q.d(),G.d(),t&&E&&E.abort()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),j(this)),this._intro=!0}o(rt.prototype,L),o(rt.prototype,Y),rt.prototype._recompute=function(t,e){t.tap&&this._differs(e.sum,e.sum=function({tap:t}){const e=t.map(({price:t})=>t).filter(t=>!!t);return e.length>0?e.reduce((t,e)=>t+e):0}(e))&&(t.sum=!0)},rt.prototype._differs=I;var it=rt,ct=(n(5),{splice:H,showCatalogue(t){clearTimeout(this.TIMEOUT),console.debug(`showing catalogue for ${t}`),this.set({selectedTap:t})},unselectTap(){this.set({selectedTap:null})},addTap(){const{taps:t,newTapName:e}=this.get();if(console.debug(`adding tap ${e}`),Object.keys(t).indexOf(e)>=0)return console.warn(`can't add ${e} again`),!1;const n={};return n[e]=[],this.set({taps:{...t,...n}}),this.storeTaps(),!1},addToTap(t){console.debug("addToTap",{product:t});const{taps:e,selectedTap:n}=this.get();if(n){const a={};a[n]=e[n].concat(t),this.set({taps:{...e,...a}}),this.closeCatalogue(1500)}},deleteTapEntry({name:t,idx:e}){console.debug("deleteTapEntry",{name:t,idx:e});const{taps:n}=this.get(),a=n[t];a.splice(e,1);const o={...n};o[t]=[...a],console.dir({taps:n,update:o}),this.set({taps:o})},clearTap(t){console.debug({name:t});const{taps:e,selectedTap:n}=this.get(),a={};a[t]=e[t]=[],this.set({taps:{...e,...a},selectedTap:null})},closeTap(t){console.debug({name:t});const{taps:e,selectedTap:n}=this.get(),a={...e};delete a[t],this.set({taps:a,selectedTap:null})},addToCatalogue(){const{newCatalogueItem:t,catalogue:e}=this.get(),{name:n,price:a}=t;let o=null;try{o=Number.parseFloat(a)}catch(t){console.error("no valid price",{error:t})}"string"!=typeof n||"number"!=typeof o||Number.isNaN(o)||(this.set({newCatalogueItem:{name:null,price:null}}),this.set({catalogue:[...e,{name:n,price:o}]}),this.storeCatalogue())},deleteCatalogueEntry({idx:t}){const{catalogue:e}=this.get();console.debug({deleteCatalogueEntry:{idx:t},catalogue:e}),e.splice(t,1),this.set({catalogue:[...e]})},closeCatalogue(t){console.debug(`closing Catalogue in ${t}ms`),this.TIMEOUT&&clearTimeout(this.TIMEOUT),this.TIMEOUT=setTimeout(()=>{this.set({selectedTap:null})},t)},storeTaps(){const{taps:t}=this.get();localStorage.setItem("taps",JSON.stringify(t))},storeCatalogue(){const{catalogue:t}=this.get();localStorage.setItem("catalogue",JSON.stringify(t))},resetAll(){this.set({selectedTap:null,newTapName:null,taps:{}}),localStorage.clear()}});function lt({current:t}){const{catalogue:e,taps:n}=t;this.storeTaps(),this.storeCatalogue()}function ut(t,e){var n,a,o,s,r={},u={catalogue:e.catalogue};void 0!==e.newCatalogueItem&&(u.newCatalogueItem=e.newCatalogueItem,r.newCatalogueItem=!0);var m=new V({root:t.root,store:t.store,data:u,_bind(e,n){var a={};!r.newCatalogueItem&&e.newCatalogueItem&&(a.newCatalogueItem=n.newCatalogueItem),t._set(a),r={}}});return t.root._beforecreate.push(()=>{m._bind({newCatalogueItem:1},m.get())}),m.on("selectProduct",function(e){t.addToTap(e.product)}),m.on("addToCatalogue",function(e){t.addToCatalogue()}),m.on("close",function(e){t.unselectTap()}),m.on("removeCatalogueIdx",function(e){t.deleteCatalogueEntry(e)}),{c(){m._fragment.c(),n=p("\n\n        "),a=d("span"),o=p(e.selectedTap),a.className="badge badge-success"},m(t,e){m._mount(t,e),c(t,n,e),c(t,a,e),i(a,o),s=!0},p(t,n){e=n;var a={};t.catalogue&&(a.catalogue=e.catalogue),!r.newCatalogueItem&&t.newCatalogueItem&&(a.newCatalogueItem=e.newCatalogueItem,r.newCatalogueItem=void 0!==e.newCatalogueItem),m._set(a),r={},s&&!t.selectedTap||g(o,e.selectedTap)},i(t,e){s||this.m(t,e)},o(t){s&&(m&&m._fragment.o(t),s=!1)},d(t){m.destroy(t),t&&(l(n),l(a))}}}function dt(t,e){var n,a,o={name:e.name,tap:e.tap,selectedTap:e.selectedTap},s=new it({root:t.root,store:t.store,data:o});return s.on("addToTap",function(e){t.showCatalogue(e.name)}),s.on("clearTap",function(e){t.clearTap(e.name)}),s.on("close",function(e){t.closeTap(e.name)}),s.on("deleteTapEntry",function(e){t.deleteTapEntry(e)}),{c(){n=d("div"),s._fragment.c(),n.className="col-xl-6 col-md-6 col-sm-12"},m(t,e){c(t,n,e),s._mount(n,null),a=!0},p(t,e){var n={};(t.Object||t.taps)&&(n.name=e.name),(t.Object||t.taps)&&(n.tap=e.tap),t.selectedTap&&(n.selectedTap=e.selectedTap),s._set(n)},i(t,e){a||this.m(t,e)},o(t){a&&(s&&s._fragment.o(t),a=!1)},d(t){t&&l(n),s.destroy()}}}function pt(t,e,n){const a=Object.create(t);return a.name=e[n][0],a.tap=e[n][1],a.each_value=e,a.each_index=n,a}function mt(t){S(this,t),this._state=o({Object:Object},t.data),this._intro=!!t.intro,this._handlers.update=[lt],this._fragment=function(t,e){var n,a,o,r,g,b,v,_,T,y,N,C,w,k,I,O,j,R,S,E,M,$,F,P,L=!1;function A(e){t.resetAll()}var B=e.selectedTap&&ut(t,e);function H(){L=!0,t.set({newTapName:R.value}),L=!1}function J(e){t.addTap()}function U(e){t.addTap()}for(var q=e.Object.entries(e.taps),K=[],W=0;W<q.length;W+=1)K[W]=dt(t,pt(e,q,W));function G(t,e,n){K[t]&&K[t].o(()=>{e&&(K[t].d(e),K[t]=null),n&&n()})}return{c(){n=d("div"),a=d("header"),o=d("div"),(r=d("div")).innerHTML="<h2>TapTab</h2>",g=p("\n\n            "),b=d("div"),v=d("div"),(_=d("button")).textContent="× reset",T=p("\n\n\n    "),y=d("div"),N=d("div"),B&&B.c(),C=p("\n        "),w=d("div"),k=d("div"),I=d("div"),O=d("form"),j=d("div"),R=d("input"),S=p("\n                        "),E=d("div"),(M=d("button")).textContent="+",$=p("\n            "),F=d("div");for(var t=0;t<K.length;t+=1)K[t].c();r.className="col-10",m(_,"click",A),_.className="btn btn-sm btn-danger",v.className="btn-group btn-group-toggle",v.dataset.toggle="buttons",b.className="col-1",o.className="row",a.className="header",N.className="col-md-4",m(R,"input",H),f(R,"type","text"),R.className="form-control",R.placeholder="guest name",f(R,"aria-label","New Tap"),f(R,"aria-describedby","button-addon2"),m(M,"click",J),M.className="btn btn-sm btn-success",E.className="input-group-append",j.className="input-group input-group-sm mb-3",m(O,"submit",U),I.className="col-md-12 col-xl-8",k.className="row justify-content-xl-center",F.className="row",w.className="col",y.className="row",n.className="container-fluid"},m(t,s){c(t,n,s),i(n,a),i(a,o),i(o,r),i(o,g),i(o,b),i(b,v),i(v,_),i(n,T),i(n,y),i(y,N),B&&B.m(N,null),i(y,C),i(y,w),i(w,k),i(k,I),i(I,O),i(O,j),i(j,R),R.value=e.newTapName,i(j,S),i(j,E),i(E,M),i(w,$),i(w,F);for(var l=0;l<K.length;l+=1)K[l].i(F,null);P=!0},p(e,n){if(n.selectedTap?(B?B.p(e,n):(B=ut(t,n))&&B.c(),B.i(N,null)):B&&(x(),B.o(function(){B.d(1),B=null})),L||(R.value=n.newTapName),e.Object||e.taps||e.selectedTap){q=n.Object.entries(n.taps);for(var a=0;a<q.length;a+=1){const o=pt(n,q,a);K[a]?K[a].p(e,o):(K[a]=dt(t,o),K[a].c()),K[a].i(F,null)}for(x();a<K.length;a+=1)G(a,1)}},i(t,e){P||this.m(t,e)},o(t){if(!P)return;t=s(t,2),B?B.o(t):t();const e=s(t,K.length);for(let t=0;t<K.length;t+=1)G(t,0,e);P=!1},d(t){t&&l(n),h(_,"click",A),B&&B.d(),h(R,"input",H),h(M,"click",J),h(O,"submit",U),u(K,t)}}}(this,this._state),this.root._oncreate.push(()=>{(function(){const{taps:t,catalogue:e}=this.get(),n=JSON.parse(localStorage.getItem("taps"))||{},a=JSON.parse(localStorage.getItem("catalogue"))||e;console.info("oncreate",{taps:t,catalogue:e,storedTaps:n,storedCatalogue:a}),this.set({taps:n,catalogue:[...a]})}).call(this),this.fire("update",{changed:function(t,e){for(var n in e)t[n]=1;return t}({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),j(this)),this._intro=!0}o(mt.prototype,L),o(mt.prototype,ct),mt.prototype._differs=I;const ht=new mt({target:document.body,data:{selectedTap:null,newTapName:null,taps:{},catalogue:[{name:"Kaffee",price:.8},{name:"Milchkaffee",price:1},{name:"Großer Latte",price:1.2},{name:"Tasse",price:.8},{name:"Hackerbrause",price:1.5},{name:"Limo",price:1.1},{name:"Riegel",price:.6},{name:"Riegel",price:.8},{name:"Riegel",price:.5},{name:"Riegel",price:.3},{name:"Bagel",price:2.3},{name:"Brötchen",price:1.4},{name:"Kuchen",price:1},{name:"Muffin",price:1.2}],newCatalogueItem:{name:null,price:null}}});window.app=ht;e.default=ht}]);