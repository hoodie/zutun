!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(6)},function(t,e,n){},,function(t,e,n){},,,function(t,e,n){"use strict";function o(){}function i(t,e){for(var n in e)t[n]=e[n];return t}function s(t,e){return 0===e&&t(),()=>{--e||t()}}function r(t){t()}function a(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n)}function l(t){t.parentNode.removeChild(t)}function u(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(t,e,n){t.addEventListener(e,n,!1)}function p(t,e,n){t.removeEventListener(e,n,!1)}function g(t,e,n){t.setAttribute(e,n)}function f(t,e){t.data=""+e}function y(t,e,n){t.style.setProperty(e,n)}function v(t){return t}function _({a:t,b:e,delta:n,duration:o},i,s){const r=16.666/o;let a="{\n";for(let e=0;e<=1;e+=r){const o=t+n*i(e);a+=100*e+`%{${s(o,1-o)}}\n`}return a+`100% {${s(e,1-e)}}\n}`}function w(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function b(t,e,n,i,s){let a,c,l,u=n.call(t,e,i),m=!1;return{t:s?0:1,running:!1,program:null,pending:null,run(t,e){"function"==typeof u?I.wait().then(()=>{u=u(),this._run(t,e)}):this._run(t,e)},_run(t,n){a=u.duration||300,c=u.easing||v;const i={start:window.performance.now()+(u.delay||0),b:t,callback:n||o};s&&!m&&(u.css&&u.delay&&(l=e.style.cssText,e.style.cssText+=u.css(0,1)),u.tick&&u.tick(0,1),m=!0),t||(i.group=x.current,x.current.remaining+=1),u.delay?this.pending=i:this.start(i),this.running||(this.running=!0,I.add(this))},start(n){if(t.fire(`${n.b?"intro":"outro"}.start`,{node:e}),n.a=this.t,n.delta=n.b-n.a,n.duration=a*Math.abs(n.b-n.a),n.end=n.start+n.duration,u.css){u.delay&&(e.style.cssText=l);const t=_(n,c,u.css);I.addRule(t,n.name="__svelte_"+w(t)),e.style.animation=(e.style.animation||"").split(", ").filter(t=>t&&(n.delta<0||!/__svelte/.test(t))).concat(`${n.name} ${n.duration}ms linear 1 forwards`).join(", ")}this.program=n,this.pending=null},update(t){const e=this.program;if(!e)return;const n=t-e.start;this.t=e.a+e.delta*c(n/e.duration),u.tick&&u.tick(this.t,1-this.t)},done(){const n=this.program;this.t=n.b,u.tick&&u.tick(this.t,1-this.t),t.fire(`${n.b?"intro":"outro"}.end`,{node:e}),n.b||n.invalidated?u.css&&I.deleteRule(e,n.name):(n.group.callbacks.push(()=>{n.callback(),u.css&&I.deleteRule(e,n.name)}),0==--n.group.remaining&&n.group.callbacks.forEach(r)),this.running=!!this.pending},abort(t){this.program&&(t&&u.tick&&u.tick(1,0),u.css&&I.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate(){this.program&&(this.program.invalidated=!0)}}}n.r(e);let x={};function N(){x.current={remaining:0,callbacks:[]}}var I={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule(t,e){if(!this.stylesheet){const t=m("style");document.head.appendChild(t),I.stylesheet=t.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule(`@keyframes ${e} ${t}`,this.stylesheet.cssRules.length))},next(){this.running=!1;const t=window.performance.now();let e=this.transitions.length;for(;e--;){const n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){let t=this.stylesheet.cssRules.length;for(;t--;)this.stylesheet.deleteRule(t);this.activeRules={}}},deleteRule(t,e){t.style.animation=t.style.animation.split(", ").filter(t=>t&&-1===t.indexOf(e)).join(", ")},wait:()=>(I.promise||(I.promise=Promise.resolve(),I.promise.then(()=>{I.promise=null})),I.promise)};function C(){return Object.create(null)}function k(t){this.destroy=o,this.fire("destroy"),this.set=o,this._fragment.d(!1!==t),this._fragment=null,this._state={}}function M(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function $(t,e){return t!=t?e==e:t!==e}function P(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1){var i=n[o];if(!i.__calling)try{i.__calling=!0,i.call(this,e)}finally{i.__calling=!1}}}function R(t){t._lock=!0,S(t._beforecreate),S(t._oncreate),S(t._aftercreate),t._lock=!1}function A(){return this._state}function B(t,e){t._handlers=C(),t._slots=C(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function j(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function T(t){this._set(i({},t)),this.root._lock||R(this.root)}function O(t){var e=this._state,n={},o=!1;for(var s in t)this._differs(t[s],e[s])&&(n[s]=o=!0);o&&(this._state=i(i({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))}function S(t){for(;t&&t.length;)t.shift()()}function E(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)}function F(){this.store._remove(this)}var U={destroy:k,get:A,fire:P,on:j,set:T,_recompute:o,_set:O,_mount:E,_differs:M};function L(t,e){this._handlers={},this._dependents=[],this._computed=C(),this._sortedComputedProperties=[],this._state=i({},t),this._differs=e&&e.immutable?$:M}function W(t){var e=t-1;return e*e*e+1}i(L.prototype,{_add(t,e){this._dependents.push({component:t,props:e})},_init(t){const e={};for(let n=0;n<t.length;n+=1){const o=t[n];e["$"+o]=this._state[o]}return e},_remove(t){let e=this._dependents.length;for(;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set(t,e){const n=this._state;this._state=i(i({},n),t);for(let t=0;t<this._sortedComputedProperties.length;t+=1)this._sortedComputedProperties[t].update(this._state,e);this.fire("state",{changed:e,previous:n,current:this._state});const o=this._dependents.slice();for(let t=0;t<o.length;t+=1){const n=o[t],i={};let s=!1;for(let t=0;t<n.props.length;t+=1){const o=n.props[t];o in e&&(i["$"+o]=this._state[o],s=!0)}s&&n.component.set(i)}this.fire("update",{changed:e,previous:n,current:this._state})},_sortComputedProperties(){const t=this._computed,e=this._sortedComputedProperties=[],n=C();let o;function i(s){const r=t[s];r&&(r.deps.forEach(t=>{if(t===o)throw new Error(`Cyclical dependency detected between ${t} <-> ${s}`);i(t)}),n[s]||(n[s]=!0,e.push(r)))}for(const t in this._computed)i(o=t)},compute(t,e,n){let o;const s={deps:e,update:(i,s,r)=>{const a=e.map(t=>(t in s&&(r=!0),i[t]));if(r){const e=n.apply(null,a);this._differs(e,o)&&(o=e,s[t]=!0,i[t]=o)}}};this._computed[t]=s,this._sortComputedProperties();const r=i({},this._state),a={};s.update(r,a,!0),this._set(r,a)},fire:P,get:A,on:j,set(t){const e=this._state,n=this._changed={};let o=!1;for(const i in t){if(this._computed[i])throw new Error(`'${i}' is a read-only property`);this._differs(t[i],e[i])&&(n[i]=o=!0)}o&&this._set(t,n)}});var q=function(t,e){var n=e.delay;void 0===n&&(n=0);var o=e.duration;void 0===o&&(o=400);var i=+getComputedStyle(t).opacity;return{delay:n,duration:o,css:function(t){return"opacity: "+t*i}}};var z=function(t,e){var n=e.delay;void 0===n&&(n=0);var o=e.duration;void 0===o&&(o=400);var i=e.easing;void 0===i&&(i=W);var s=getComputedStyle(t),r=+s.opacity,a=parseFloat(s.height),c=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),u=parseFloat(s.marginTop),m=parseFloat(s.marginBottom),d=parseFloat(s.borderTopWidth),h=parseFloat(s.borderBottomWidth);return{delay:n,duration:o,easing:i,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*r+";height: "+t*a+"px;padding-top: "+t*c+"px;padding-bottom: "+t*l+"px;margin-top: "+t*u+"px;margin-bottom: "+t*m+"px;border-top-width: "+t*d+"px;border-bottom-width: "+t*h+"px;"}}};function H(t){return"number"==typeof t&&t.toFixed(2).toString().replace(".",",")+"€"}var J={addNewItem(){const{newItemName:t,newItemCategory:e}=this.get(),{catalogue:{items:n}}=this.store.get(),o={name:t,category:e};this.store.set({catalogue:{items:[...n,o]}}),this.set({newItemName:null,newItemCategory:null})},deleteItem(t){const{newItemName:e,newItemCategory:n}=this.get(),{catalogue:{items:o}}=this.store.get();this.store.set({catalogue:{items:[...o.filter((e,n)=>n!=t)]}}),this.set({newItemName:null,newItemCategory:null})}};function K(t,e){var n,o,i,s,r,u,y,v,_,w=e.name,b=e.category,x=e.price&&V(t,e);return{c(){n=m("div"),o=m("button"),i=d(w),s=d("\n                    "),x&&x.c(),r=d("\n                    "),u=m("span"),y=d(b),v=d("\n                "),(_=m("button")).textContent="×",u.className="badge badge-primary",o._svelte={component:t,ctx:e},h(o,"click",X),o.className="btn category-btn list-group-item list-group-item-action d-flex justify-content-between align-items-center",_._svelte={component:t,ctx:e},h(_,"click",Y),g(_,"aria-hidden","true"),_.className="btn btn-sm btn-outline-danger btn-borderless",n.className="btn-group"},m(t,e){c(t,n,e),a(n,o),a(o,i),a(o,s),x&&x.m(o,null),a(o,r),a(o,u),a(u,y),a(n,v),a(n,_)},p(e,n){e.$catalogue&&w!==(w=n.name)&&f(i,w),n.price?x?x.p(e,n):((x=V(t,n)).c(),x.m(o,r)):x&&(x.d(1),x=null),e.$catalogue&&b!==(b=n.category)&&f(y,b),o._svelte.ctx=n,_._svelte.ctx=n},d(t){t&&l(n),x&&x.d(),p(o,"click",X),p(_,"click",Y)}}}function V(t,e){var n,o,i=H(e.price);return{c(){n=m("span"),o=d(i)},m(t,e){c(t,n,e),a(n,o)},p(t,e){t.$catalogue&&i!==(i=H(e.price))&&f(o,i)},d(t){t&&l(n)}}}function D(t,e){var n,o,i,s,r,u,h,p,g=H(e.newItemPrice);return{c(){n=m("button"),o=d(e.newItemName),i=d("\n                "),s=m("span"),r=d(g),u=d("\n                "),h=m("span"),p=d(e.newItemCategory),h.className="badge badge-primary",n.className="btn category-btn list-group-item-action d-flex justify-content-between align-items-center disabled",n.disabled=!0},m(t,e){c(t,n,e),a(n,o),a(n,i),a(n,s),a(s,r),a(n,u),a(n,h),a(h,p)},p(t,e){t.newItemName&&f(o,e.newItemName),t.newItemPrice&&g!==(g=H(e.newItemPrice))&&f(r,g),t.newItemCategory&&f(p,e.newItemCategory)},d(t){t&&l(n)}}}function G(t,e){var n,o,i,s,r,u,f=!1,y=!1;function v(){f=!0,t.set({newItemPrice:n.value}),f=!1}function _(){y=!0,t.set({newItemCategory:i.value}),y=!1}function w(e){t.addNewItem()}return{c(){n=m("input"),o=d("\n            "),i=m("input"),s=d("\n            "),r=m("div"),(u=m("button")).textContent="add",h(n,"input",v),n.placeholder="price",g(n,"type","text"),h(i,"input",_),i.placeholder="category",g(i,"type","text"),h(u,"click",w),u.className="btn btn-success",u.type="button",r.className="input-group-append"},m(t,l){c(t,n,l),n.value=e.newItemPrice,c(t,o,l),c(t,i,l),i.value=e.newItemCategory,c(t,s,l),c(t,r,l),a(r,u)},p(t,e){f||(n.value=e.newItemPrice),y||(i.value=e.newItemCategory)},d(t){t&&l(n),p(n,"input",v),t&&(l(o),l(i)),p(i,"input",_),t&&(l(s),l(r)),p(u,"click",w)}}}function Q(t,e,n){const o=Object.create(t);return o.name=e[n].name,o.category=e[n].category,o.price=e[n].price,o.each_value=e,o.idx=n,o}function X(t){const{component:e,ctx:n}=this._svelte;e.fire("addItem",{name:n.name,category:n.category,price:n.price})}function Y(t){const{component:e,ctx:n}=this._svelte;e.deleteItem(n.idx)}function Z(t){B(this,t),this._state=i(i(this.store._init(["catalogue"]),{newItemName:"",newItemPrice:null,newItemCategory:""}),t.data),this.store._add(this,["catalogue"]),this._intro=!!t.intro,this._handlers.destroy=[F],this._fragment=function(t,e){var n,o,i,s,g,f,v,_,w,b,x,N,I,C,k=!1;function M(e){t.fire("close")}for(var $=e.$catalogue.items,P=[],R=0;R<$.length;R+=1)P[R]=K(t,Q(e,$,R));var A=e.newItemName&&D(0,e);function B(){k=!0,t.set({newItemName:N.value}),k=!1}var j=e.newItemName&&G(t,e);return{c(){n=m("div"),o=m("div"),i=m("h3"),s=d("Add Item\n            "),(g=m("button")).innerHTML='<span aria-hidden="true">×</span>',f=d("\n\n    "),v=m("div"),_=m("div");for(var t=0;t<P.length;t+=1)P[t].c();w=d("\n\n            "),A&&A.c(),b=d("\n\n        "),x=m("div"),N=m("input"),I=d("\n            "),j&&j.c(),h(g,"click",M),g.type="button",g.className="close",g.title="Close",i.className="card-title",o.className="card-header",_.className="list-group",y(_,"max-height","400px"),y(_,"overflow","scroll"),y(_,"padding-right","10px"),h(N,"input",B),N.value="",N.placeholder="name",x.className="input-group mb-3",v.className="card-body",n.className="card"},m(t,r){c(t,n,r),a(n,o),a(o,i),a(i,s),a(i,g),a(n,f),a(n,v),a(v,_);for(var l=0;l<P.length;l+=1)P[l].m(_,null);a(_,w),A&&A.m(_,null),a(v,b),a(v,x),a(x,N),N.value=e.newItemName,a(x,I),j&&j.m(x,null),C=!0},p(e,n){if(e.$catalogue){$=n.$catalogue.items;for(var o=0;o<$.length;o+=1){const i=Q(n,$,o);P[o]?P[o].p(e,i):(P[o]=K(t,i),P[o].c(),P[o].m(_,w))}for(;o<P.length;o+=1)P[o].d(1);P.length=$.length}n.newItemName?A?A.p(e,n):((A=D(0,n)).c(),A.m(_,null)):A&&(A.d(1),A=null),k||(N.value=n.newItemName),n.newItemName?j?j.p(e,n):((j=G(t,n)).c(),j.m(x,null)):j&&(j.d(1),j=null)},i(t,e){C||this.m(t,e)},o:r,d(t){t&&l(n),p(g,"click",M),u(P,t),A&&A.d(),p(N,"input",B),j&&j.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}i(Z.prototype,U),i(Z.prototype,J),Z.prototype._differs=$;var tt=Z;n(1);function et(t){return"number"==typeof t&&t.toFixed(2).toString().replace(".",",")+"€"}var nt={checkItem(t){const{items:e}=this.store.get();e[t].done=!e[t].done,this.store.set({items:[...e]})},addCustomItem(){const{items:t}=this.store.get(),{customItemName:e,customItemPrice:n,category:o}=this.get();if(e){const i={name:e,price:Number.parseFloat(n),category:o};this.store.set({items:[...t,i]}),this.set({customItemName:null,customItemPrice:null,showAddPrice:!1,showCustomMenu:!1})}},renameItem(t){const{newItemName:e}=this.get(),{items:n}=this.store.get(),o=n;o[t].name=e,this.store.set({items:[...o]}),this.set({newItemName:null}),this.hideAll()},repriceItem(t){const{newItemPrice:e}=this.get(),{items:n}=this.store.get(),o=n,i=parseFloat(e);Number.isNaN(i)||(o[t].price=i,this.store.set({items:[...o]}),console.debug({newItems:o,newItemPrice:e}),this.set({newItemPrice:null})),this.hideAll()},deleteItem(t){const{items:e}=this.store.get(),n=[...e.filter((e,n)=>n!==t)];this.set({itemMenu:-1}),this.store.set({items:n})},hideAll(){this.set({hiddenButton:-1,itemRename:-1,itemReprice:-1,itemMenu:-1})},toggleAddMenu(){const{showCustomMenu:t}=this.get();this.set({showCustomMenu:!t,showAddPrice:!1})},toggleShowAddPrice(){const{showAddPrice:t}=this.get();this.set({showAddPrice:!t})},toggleItemRename(t,e){const{itemRename:n}=this.get();n==t?this.set({itemRename:-1}):(this.hideAll(),this.set({itemRename:t,newItemName:e,hiddenButton:t}))},toggleItemReprice(t){const{itemReprice:e}=this.get();e==t?this.set({itemReprice:-1}):(this.hideAll(),this.set({itemReprice:t,hiddenButton:t}))},toggleItemMenu(t){const{itemMenu:e}=this.get();e==t?this.set({itemMenu:-1}):(this.hideAll(),this.set({itemMenu:t}))}};function ot(){}function it(t,e){var n,o,i,s,r=et(e.$sumByCategory[e.category]);return{c(){n=m("small"),o=d("( "),i=d(r),s=d(" )")},m(t,e){c(t,n,e),a(n,o),a(n,i),a(n,s)},p(t,e){(t.$sumByCategory||t.category)&&r!==(r=et(e.$sumByCategory[e.category]))&&f(i,r)},d(t){t&&l(n)}}}function st(t,e){var n,o,i,s=e.$progress[e.category].done,r=e.$progress[e.category].all;return{c(){n=d(s),o=d(" / "),i=d(r)},m(t,e){c(t,n,e),c(t,o,e),c(t,i,e)},p(t,e){(t.$progress||t.category)&&s!==(s=e.$progress[e.category].done)&&f(n,s),(t.$progress||t.category)&&r!==(r=e.$progress[e.category].all)&&f(i,r)},d(t){t&&(l(n),l(o),l(i))}}}function rt(t,e){var n,o,i=e.category===e.itemCat&&ht(t,e);return{c(){i&&i.c(),n=document.createComment("")},m(t,e){i&&i.i(t,e),c(t,n,e),o=!0},p(e,o){o.category===o.itemCat?(i?i.p(e,o):(i=ht(t,o))&&i.c(),i.i(n.parentNode,n)):i&&(N(),i.o(function(){i.d(1),i=null}))},i(t,e){o||this.m(t,e)},o(t){o&&(i?i.o(t):t(),o=!1)},d(t){i&&i.d(t),t&&l(n)}}}function at(t,e){var n;return{c(){n=d("change price")},m(t,e){c(t,n,e)},d(t){t&&l(n)}}}function ct(t,e){var n;return{c(){n=d("set price")},m(t,e){c(t,n,e)},d(t){t&&l(n)}}}function lt(t,e){var n,o,i,r,u,f,y,v,_=!1;function w(){_=!0,t.set({newItemName:o.value}),_=!1}return{c(){n=m("div"),o=m("input"),u=d("\n                        "),(f=m("button")).textContent="done",h(o,"input",w),g(o,"type","text"),o.placeholder=i=e.name,f._svelte={component:t,ctx:e},h(f,"click",_t),f.className="btn btn-info",n.className="input-group"},m(t,i){c(t,n,i),a(n,o),o.value=e.newItemName,a(n,u),a(n,f),v=!0},p(t,e){_||(o.value=e.newItemName),v&&!t.$items||i===(i=e.name)||(o.placeholder=i),f._svelte.ctx=e},i(e,i){v||(t.root._intro&&(r&&r.invalidate(),t.root._aftercreate.push(()=>{r||(r=b(t,o,q,{},!0)),r.run(1)}),y&&y.invalidate(),t.root._aftercreate.push(()=>{y||(y=b(t,n,q,{},!0)),y.run(1)})),this.m(e,i))},o(e){v&&(e=s(e,2),r||(r=b(t,o,q,{},!1)),r.run(0,()=>{e(),r=null}),y||(y=b(t,n,q,{},!1)),y.run(0,()=>{e(),y=null}),v=!1)},d(t){t&&l(n),p(o,"input",w),t&&r&&r.abort(),p(f,"click",_t),t&&y&&y.abort()}}}function ut(t,e){var n,o,i,r,u,f,y,v=!1;function _(){v=!0,t.set({newItemPrice:o.value}),v=!1}return{c(){n=m("div"),o=m("input"),r=d("\n                        "),(u=m("button")).textContent="done",h(o,"input",_),g(o,"type","text"),o.placeholder="price",u._svelte={component:t,ctx:e},h(u,"click",wt),u.className="btn btn-info",n.className="input-group"},m(t,i){c(t,n,i),a(n,o),o.value=e.newItemPrice,a(n,r),a(n,u),y=!0},p(t,e){v||(o.value=e.newItemPrice),u._svelte.ctx=e},i(e,s){y||(t.root._intro&&(i&&i.invalidate(),t.root._aftercreate.push(()=>{i||(i=b(t,o,q,{},!0)),i.run(1)}),f&&f.invalidate(),t.root._aftercreate.push(()=>{f||(f=b(t,n,q,{},!0)),f.run(1)})),this.m(e,s))},o(e){y&&(e=s(e,2),i||(i=b(t,o,q,{},!1)),i.run(0,()=>{e(),i=null}),f||(f=b(t,n,q,{},!1)),f.run(0,()=>{e(),f=null}),y=!1)},d(t){t&&l(n),p(o,"input",_),t&&i&&i.abort(),p(u,"click",wt),t&&f&&f.abort()}}}function mt(t,e){var n,o,i,s=et(e.price);return{c(){n=d("("),o=d(s),i=d(")")},m(t,e){c(t,n,e),c(t,o,e),c(t,i,e)},p(t,e){t.$items&&s!==(s=et(e.price))&&f(o,s)},d(t){t&&(l(n),l(o),l(i))}}}function dt(t,e){var n,o,i,s,r,u,y,v=e.name,_=e.price&&mt(0,e);return{c(){n=m("div"),o=m("button"),i=m("input"),r=d("\n                        "),u=d(v),y=d("\n                        "),_&&_.c(),g(i,"type","checkbox"),i.checked=s=e.done,i.className="svelte-ihlmaj",o._svelte={component:t,ctx:e},h(o,"click",bt),o.className="btn btn-outline-success list-group-item-action d-flex align-items-center svelte-ihlmaj",n.className="form-control bigbutton svelte-ihlmaj"},m(t,e){c(t,n,e),a(n,o),a(o,i),a(o,r),a(o,u),a(o,y),_&&_.m(o,null)},p(t,e){t.$items&&s!==(s=e.done)&&(i.checked=s),t.$items&&v!==(v=e.name)&&f(u,v),e.price?_?_.p(t,e):((_=mt(0,e)).c(),_.m(o,null)):_&&(_.d(1),_=null),o._svelte.ctx=e},d(t){t&&l(n),_&&_.d(),p(o,"click",bt)}}}function ht(t,e){var n,o,i,r,u,f,y,v,_,w,b,x,I,C,k,M,$,P,R;function A(t){return t.price?at:ct}var B=A(e),j=B(t,e),T=e.showRename(e.idx)&&lt(t,e),O=e.showReprice(e.idx)&&ut(t,e),S=!e.hideButton(e.idx)&&dt(t,e);return{c(){n=m("div"),o=m("div"),i=m("button"),r=d("\n\n                    "),u=m("div"),(f=m("button")).textContent="save",y=d("\n                        "),(v=m("button")).textContent="rename",_=d("\n                        "),w=m("button"),j.c(),b=d("\n                        "),x=m("div"),I=d("\n                        "),(C=m("button")).textContent="delete",M=d("\n\n                    "),T&&T.c(),$=d("\n\n                    "),O&&O.c(),P=d("\n\n                "),S&&S.c(),i._svelte={component:t,ctx:e},h(i,"click",gt),i.className="btn btn-outline-dark dropdown-toggle",i.type="button",i.dataset.toggle="dropdown",g(i,"aria-haspopup","true"),g(i,"aria-expanded","false"),f.className="dropdown-item svelte-ihlmaj",v._svelte={component:t,ctx:e},h(v,"click",ft),v.className="dropdown-item svelte-ihlmaj",w._svelte={component:t,ctx:e},h(w,"click",yt),w.className="dropdown-item svelte-ihlmaj",g(x,"role","separator"),x.className="dropdown-divider",C._svelte={component:t,ctx:e},h(C,"click",vt),C.className="dropdown-item svelte-ihlmaj",u.className=k="dropdown-menu "+e.showMenu(e.idx)+" svelte-ihlmaj",o.className="input-group-prepend",n.className="input-group mb-1"},m(t,e){c(t,n,e),a(n,o),a(o,i),a(o,r),a(o,u),a(u,f),a(u,y),a(u,v),a(u,_),a(u,w),j.m(w,null),a(u,b),a(u,x),a(u,I),a(u,C),a(o,M),T&&T.i(o,null),a(o,$),O&&O.i(o,null),a(n,P),S&&S.m(n,null),R=!0},p(e,s){i._svelte.ctx=s,v._svelte.ctx=s,B!==(B=A(s))&&(j.d(1),(j=B(t,s)).c(),j.m(w,null)),w._svelte.ctx=s,C._svelte.ctx=s,R&&!e.showMenu||k===(k="dropdown-menu "+s.showMenu(s.idx)+" svelte-ihlmaj")||(u.className=k),s.showRename(s.idx)?(T?T.p(e,s):(T=lt(t,s))&&T.c(),T.i(o,$)):T&&(N(),T.o(function(){T.d(1),T=null})),s.showReprice(s.idx)?(O?O.p(e,s):(O=ut(t,s))&&O.c(),O.i(o,null)):O&&(N(),O.o(function(){O.d(1),O=null})),s.hideButton(s.idx)?S&&(S.d(1),S=null):S?S.p(e,s):((S=dt(t,s)).c(),S.m(n,null))},i(t,e){R||this.m(t,e)},o(t){R&&(t=s(t,2),T?T.o(t):t(),O?O.o(t):t(),R=!1)},d(t){t&&l(n),p(i,"click",gt),p(v,"click",ft),j.d(),p(w,"click",yt),p(C,"click",vt),T&&T.d(),O&&O.d(),S&&S.d()}}}function pt(t,e,n){const o=Object.create(t);return o.name=e[n].name,o.done=e[n].done,o.price=e[n].price,o.itemCat=e[n].category,o.each_value=e,o.idx=n,o}function gt(t){const{component:e,ctx:n}=this._svelte;e.toggleItemMenu(n.idx)}function ft(t){const{component:e,ctx:n}=this._svelte;e.toggleItemRename(n.idx,n.name)}function yt(t){const{component:e,ctx:n}=this._svelte;e.toggleItemReprice(n.idx)}function vt(t){const{component:e,ctx:n}=this._svelte;e.deleteItem(n.idx)}function _t(t){const{component:e,ctx:n}=this._svelte;e.renameItem(n.idx)}function wt(t){const{component:e,ctx:n}=this._svelte;e.repriceItem(n.idx)}function bt(t){const{component:e,ctx:n}=this._svelte;e.checkItem(n.idx)}function xt(t){B(this,t),this._state=i(i(this.store._init(["sumByCategory","progress","items"]),{items:[],itemMenu:-1,itemRename:-1,itemReprice:-1,hiddenButton:-1,newItemName:null,newItemPrice:null,showCustomMenu:!1,showAddPrice:!1,customItemName:null,customItemPrice:null}),t.data),this.store._add(this,["sumByCategory","progress","items"]),this._recompute({itemMenu:1,itemRename:1,itemReprice:1,hiddenButton:1},this._state),this._intro=!!t.intro,this._handlers.update=[ot],this._handlers.destroy=[F],this._fragment=function(t,e){var n,o,i,r,v,_,w,x,I,C,k,M,$,P,R,A,B,j,T,O,S,E,F,U,L,W,z,H,J,K,V,D,G=e.showCustomMenu?"-":"+",Q=!1,X=!1,Y=e.$sumByCategory[e.category]&&it(0,e);function Z(n){t.fire("close",{name:e.name})}for(var tt=e.$progress[e.category].done>0&&st(0,e),et=e.$items,nt=[],ot=0;ot<et.length;ot+=1)nt[ot]=rt(t,pt(e,et,ot));function at(t,e,n){nt[t]&&nt[t].o(()=>{e&&(nt[t].d(e),nt[t]=null),n&&n()})}function ct(e){t.toggleAddMenu()}function lt(){Q=!0,t.set({customItemName:E.value}),Q=!1}function ut(e){t.toggleShowAddPrice()}function mt(){X=!0,t.set({customItemPrice:W.value}),X=!1}function dt(e){t.fire("showCatalogue")}function ht(e){t.addCustomItem()}return{c(){n=m("div"),o=m("div"),i=m("h5"),r=d(e.category),v=d("\n            "),Y&&Y.c(),_=d("\n            "),(w=m("button")).innerHTML='<span aria-hidden="true">×</span>',x=d("\n        "),I=m("div"),C=m("div"),tt&&tt.c(),M=d("\n\n    "),$=m("div"),P=m("div");for(var t=0;t<nt.length;t+=1)nt[t].c();R=d("\n\n        "),A=m("div"),B=m("div"),j=m("div"),T=m("button"),O=d(G),S=d("\n\n                    "),E=m("input"),F=d("\n\n                    "),(U=m("button")).textContent="€",L=d("\n\n                    "),W=m("input"),z=d("\n\n\n                "),(H=m("button")).textContent="add",J=d("\n\n                "),(K=m("button")).textContent="add",h(w,"click",Z),w.type="button",w.className="close",w.title="Close",C.className="progress-bar",g(C,"role","progressbar"),y(C,"width",e.$progress[e.category].percent+"%"),g(C,"aria-valuenow",k=e.$progress[e.category].percent),g(C,"aria-valuemin","0"),g(C,"aria-valuemax","100"),I.className="progress",y(I,"height","30px"),o.className="card-header",P.className="row mb-4",h(T,"click",ct),T.type="button",T.className="btn btn-outline-secondary",h(E,"input",lt),g(E,"type","text"),E.className="form-control",g(E,"aria-label","item"),y(E,"display",e.showCustomMenu?"block":"none"),E.placeholder="new item",h(U,"click",ut),U.type="button",U.className="btn btn-outline-warning",y(U,"display",e.showCustomMenu&&!e.showAddPrice?"block":"none"),j.className="input-group-prepend",h(W,"input",mt),g(W,"type","text"),W.className="form-control",g(W,"aria-label","price"),y(W,"display",e.showCustomMenu&&e.showAddPrice?"block":"none"),W.placeholder="price",h(H,"click",dt),H.type="button",H.className="btn btn-success",y(H,"display",e.showCustomMenu?"none":"block"),h(K,"click",ht),K.type="button",K.className="btn btn-primary",y(K,"display",e.showCustomMenu?"block":"none"),B.className="input-group",A.className="row addbutton svelte-ihlmaj",$.className="card-body",n.className="card"},m(t,s){c(t,n,s),a(n,o),a(o,i),a(i,r),a(i,v),Y&&Y.m(i,null),a(i,_),a(i,w),a(o,x),a(o,I),a(I,C),tt&&tt.m(C,null),a(n,M),a(n,$),a($,P);for(var l=0;l<nt.length;l+=1)nt[l].i(P,null);a($,R),a($,A),a(A,B),a(B,j),a(j,T),a(T,O),a(j,S),a(j,E),E.value=e.customItemName,a(j,F),a(j,U),a(B,L),a(B,W),W.value=e.customItemPrice,a(B,z),a(B,H),a(B,J),a(B,K),D=!0},p(n,o){if(e=o,D&&!n.category||f(r,e.category),e.$sumByCategory[e.category]?Y?Y.p(n,e):((Y=it(0,e)).c(),Y.m(i,_)):Y&&(Y.d(1),Y=null),e.$progress[e.category].done>0?tt?tt.p(n,e):((tt=st(0,e)).c(),tt.m(C,null)):tt&&(tt.d(1),tt=null),(!D||n.$progress||n.category)&&y(C,"width",e.$progress[e.category].percent+"%"),D&&!n.$progress&&!n.category||k===(k=e.$progress[e.category].percent)||g(C,"aria-valuenow",k),n.category||n.$items||n.showMenu||n.showRename||n.newItemName||n.showReprice||n.newItemPrice||n.hideButton){et=e.$items;for(var s=0;s<et.length;s+=1){const o=pt(e,et,s);nt[s]?nt[s].p(n,o):(nt[s]=rt(t,o),nt[s].c()),nt[s].i(P,null)}for(N();s<nt.length;s+=1)at(s,1)}D&&!n.showCustomMenu||G===(G=e.showCustomMenu?"-":"+")||f(O,G),Q||(E.value=e.customItemName),D&&!n.showCustomMenu||y(E,"display",e.showCustomMenu?"block":"none"),(!D||n.showCustomMenu||n.showAddPrice)&&y(U,"display",e.showCustomMenu&&!e.showAddPrice?"block":"none"),X||(W.value=e.customItemPrice),(!D||n.showCustomMenu||n.showAddPrice)&&y(W,"display",e.showCustomMenu&&e.showAddPrice?"block":"none"),D&&!n.showCustomMenu||(y(H,"display",e.showCustomMenu?"none":"block"),y(K,"display",e.showCustomMenu?"block":"none"))},i(e,o){D||(t.root._intro&&(V&&V.invalidate(),t.root._aftercreate.push(()=>{V||(V=b(t,n,q,{},!0)),V.run(1)})),this.m(e,o))},o(e){if(!D)return;const o=s(e=s(e,2),nt.length);for(let t=0;t<nt.length;t+=1)at(t,0,o);V||(V=b(t,n,q,{},!1)),V.run(0,()=>{e(),V=null}),D=!1},d(t){t&&l(n),Y&&Y.d(),p(w,"click",Z),tt&&tt.d(),u(nt,t),p(T,"click",ct),p(E,"input",lt),p(U,"click",ut),p(W,"input",mt),p(H,"click",dt),p(K,"click",ht),t&&V&&V.abort()}}}(this,this._state),this.root._oncreate.push(()=>{(function(){}).call(this),this.fire("update",{changed:function(t,e){for(var n in e)t[n]=1;return t}({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),R(this)),this._intro=!0}i(xt.prototype,U),i(xt.prototype,nt),xt.prototype._recompute=function(t,e){t.itemMenu&&this._differs(e.showMenu,e.showMenu=function({itemMenu:t}){return e=>t===e?"show":""}(e))&&(t.showMenu=!0),t.itemRename&&this._differs(e.showRename,e.showRename=function({itemRename:t}){return e=>t===e?"show":""}(e))&&(t.showRename=!0),t.itemReprice&&this._differs(e.showReprice,e.showReprice=function({itemReprice:t}){return e=>t===e?"show":""}(e))&&(t.showReprice=!0),t.hiddenButton&&this._differs(e.hideButton,e.hideButton=function({hiddenButton:t}){return e=>t===e}(e))&&(t.hideButton=!0)},xt.prototype._differs=$;var Nt=xt;n(3);var It={addItem({name:t,category:e,price:n}){const{items:o}=this.store.get(),i={name:t,category:e,price:n,done:!1};this.store.set({items:[...o,i]}),this.closeCatalogue(1500)},showCatalogue(){clearTimeout(this.TIMEOUT),console.debug("showing catalogue"),this.set({showCatalogue:!0})},closeCatalogue(t){console.debug(`closing Catalogue in ${t}ms`),this.TIMEOUT&&clearTimeout(this.TIMEOUT),this.TIMEOUT=setTimeout(()=>{this.set({showCatalogue:!1})},t)}};function Ct(t,e){var n,o,i,r=new tt({root:t.root,store:t.store});return r.on("addItem",function(e){t.addItem(e)}),r.on("close",function(e){t.closeCatalogue(0)}),{c(){n=m("div"),r._fragment.c(),n.className="col-md-6"},m(t,e){c(t,n,e),r._mount(n,null),i=!0},i(e,s){i||(t.root._intro&&(o&&o.invalidate(),t.root._aftercreate.push(()=>{o||(o=b(t,n,z,{},!0)),o.run(1)})),this.m(e,s))},o(e){i&&(e=s(e,2),r&&r._fragment.o(e),o||(o=b(t,n,z,{},!1)),o.run(0,()=>{e(),o=null}),i=!1)},d(t){t&&l(n),r.destroy(),t&&o&&o.abort()}}}function kt(t,e){var n,o,i=e.$items.filter(({category:t})=>t===e.category).length>0&&Mt(t,e);return{c(){n=m("div"),i&&i.c(),n.className="col-xl-4 col-md-6"},m(t,e){c(t,n,e),i&&i.m(n,null),o=!0},p(e,o){o.$items.filter(({category:t})=>t===o.category).length>0?(i?i.p(e,o):(i=Mt(t,o))&&i.c(),i.i(n,null)):i&&(N(),i.o(function(){i.d(1),i=null}))},i(t,e){o||this.m(t,e)},o(t){o&&(i?i.o(t):t(),o=!1)},d(t){t&&l(n),i&&i.d()}}}function Mt(t,e){var n,o={category:e.category},i=new Nt({root:t.root,store:t.store,data:o});return i.on("showCatalogue",function(e){t.showCatalogue()}),{c(){i._fragment.c()},m(t,e){i._mount(t,e),n=!0},p(t,e){var n={};t.$categories&&(n.category=e.category),i._set(n)},i(t,e){n||this.m(t,e)},o(t){n&&(i&&i._fragment.o(t),n=!1)},d(t){i.destroy(t)}}}function $t(t,e,n){const o=Object.create(t);return o.category=e[n],o.each_value=e,o.category_index=n,o}function Pt(t){B(this,t),this._state=i(i(this.store._init(["items","categories"]),{showCatalogue:!1}),t.data),this.store._add(this,["items","categories"]),this._intro=!!t.intro,this._handlers.destroy=[F],this._fragment=function(t,e){for(var n,o,i,r,h,p,g,f=(e.showCatalogue||0===e.$items.length)&&Ct(t),y=e.$categories,v=[],_=0;_<y.length;_+=1)v[_]=kt(t,$t(e,y,_));function w(t,e,n){v[t]&&v[t].o(()=>{e&&(v[t].d(e),v[t]=null),n&&n()})}return{c(){n=m("div"),o=m("div"),f&&f.c(),i=d("\n\n        "),r=m("div"),h=m("div");for(var t=0;t<v.length;t+=1)v[t].c();h.className="row",r.className="col",o.className="row",n.className="container-fluid"},m(t,e){c(t,n,e),a(n,o),f&&f.i(o,null),a(o,i),a(o,r),a(r,h);for(var s=0;s<v.length;s+=1)v[s].i(h,null);g=!0},p(e,n){if(n.showCatalogue||0===n.$items.length?(f||(f=Ct(t)).c(),f.i(o,i)):f&&(N(),f.o(function(){f.d(1),f=null})),e.$items||e.$categories){y=n.$categories;for(var s=0;s<y.length;s+=1){const o=$t(n,y,s);v[s]?v[s].p(e,o):(v[s]=kt(t,o),v[s].c()),v[s].i(h,null)}for(N();s<v.length;s+=1)w(s,1)}},i(e,n){g||(t.root._intro&&(p&&p.invalidate(),t.root._aftercreate.push(()=>{p||(p=b(t,r,z,{},!0)),p.run(1)})),this.m(e,n))},o(e){if(!g)return;e=s(e,3),f?f.o(e):e();const n=s(e,v.length);for(let t=0;t<v.length;t+=1)w(t,0,n);p||(p=b(t,r,z,{},!1)),p.run(0,()=>{e(),p=null}),g=!1},d(t){t&&l(n),f&&f.d(),u(v,t),t&&p&&p.abort()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),R(this)),this._intro=!0}i(Pt.prototype,U),i(Pt.prototype,It),Pt.prototype._differs=$;var Rt=Pt;const At=new L({items:[],catalogue:{items:[{name:"Milch",category:"shopping",price:.85},{name:"Butter",category:"shopping",price:2.29},{name:"Mehl",category:"shopping",price:.6},{name:"Bier",category:"shopping",price:20},{name:"TÜV",category:"AUTO"},{name:"Waschen",category:"AUTO"},{name:"Saugen",category:"wohnung"},{name:"Küche",category:"wohnung"},{name:"Bad",category:"wohnung"}]}}),Bt=JSON.parse(localStorage.getItem("zutun"));Bt&&At.set(Bt),At.on("state",({current:t})=>{const{catalogue:e,items:n}=t;localStorage.setItem("zutun",JSON.stringify({catalogue:e,items:n})),console.dir({storeState:t})}),At.compute("categories",["items"],t=>Array.from(new Set(t.map(({category:t})=>t)))),At.compute("sumByCategory",["items"],t=>{const e={};return t.forEach(t=>{e[t.category]=e[t.category]||0,t.price&&(e[t.category]+=t.price)}),e}),At.compute("progress",["items"],t=>{const e={};return t.forEach(t=>{const n=e[t.category]||{open:0,done:0,all:0,percent:0};t.done?n.done+=1:n.open+=1,n.all+=1,n.percent=Math.floor(n.done/n.all*100),e[t.category]=n}),e});const jt=new Rt({target:document.body,store:At});window.app=jt;e.default=jt}]);