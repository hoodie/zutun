!function(t){var e={};function n(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(o,s,function(e){return t[e]}.bind(null,s));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(6)},function(t,e,n){},,function(t,e,n){},,,function(t,e,n){"use strict";function o(){}function s(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e){return 0===e&&t(),()=>{--e||t()}}function r(t){t()}function a(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n)}function l(t){t.parentNode.removeChild(t)}function u(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function h(t,e,n){t.addEventListener(e,n,!1)}function p(t,e,n){t.removeEventListener(e,n,!1)}function g(t,e,n){t.setAttribute(e,n)}function f(t,e){t.data=""+e}function y(t,e,n){t.style.setProperty(e,n)}function _(t){return t}function v({a:t,b:e,delta:n,duration:o},s,i){const r=16.666/o;let a="{\n";for(let e=0;e<=1;e+=r){const o=t+n*s(e);a+=100*e+`%{${i(o,1-o)}}\n`}return a+`100% {${i(e,1-e)}}\n}`}function b(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function w(t,e,n,s,i){let a,c,l,u=n.call(t,e,s),d=!1;return{t:i?0:1,running:!1,program:null,pending:null,run(t,e){"function"==typeof u?N.wait().then(()=>{u=u(),this._run(t,e)}):this._run(t,e)},_run(t,n){a=u.duration||300,c=u.easing||_;const s={start:window.performance.now()+(u.delay||0),b:t,callback:n||o};i&&!d&&(u.css&&u.delay&&(l=e.style.cssText,e.style.cssText+=u.css(0,1)),u.tick&&u.tick(0,1),d=!0),t||(s.group=x.current,x.current.remaining+=1),u.delay?this.pending=s:this.start(s),this.running||(this.running=!0,N.add(this))},start(n){if(t.fire(`${n.b?"intro":"outro"}.start`,{node:e}),n.a=this.t,n.delta=n.b-n.a,n.duration=a*Math.abs(n.b-n.a),n.end=n.start+n.duration,u.css){u.delay&&(e.style.cssText=l);const t=v(n,c,u.css);N.addRule(t,n.name="__svelte_"+b(t)),e.style.animation=(e.style.animation||"").split(", ").filter(t=>t&&(n.delta<0||!/__svelte/.test(t))).concat(`${n.name} ${n.duration}ms linear 1 forwards`).join(", ")}this.program=n,this.pending=null},update(t){const e=this.program;if(!e)return;const n=t-e.start;this.t=e.a+e.delta*c(n/e.duration),u.tick&&u.tick(this.t,1-this.t)},done(){const n=this.program;this.t=n.b,u.tick&&u.tick(this.t,1-this.t),t.fire(`${n.b?"intro":"outro"}.end`,{node:e}),n.b||n.invalidated?u.css&&N.deleteRule(e,n.name):(n.group.callbacks.push(()=>{n.callback(),u.css&&N.deleteRule(e,n.name)}),0==--n.group.remaining&&n.group.callbacks.forEach(r)),this.running=!!this.pending},abort(t){this.program&&(t&&u.tick&&u.tick(1,0),u.css&&N.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate(){this.program&&(this.program.invalidated=!0)}}}n.r(e);let x={};function C(){x.current={remaining:0,callbacks:[]}}var N={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule(t,e){if(!this.stylesheet){const t=d("style");document.head.appendChild(t),N.stylesheet=t.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule(`@keyframes ${e} ${t}`,this.stylesheet.cssRules.length))},next(){this.running=!1;const t=window.performance.now();let e=this.transitions.length;for(;e--;){const n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){let t=this.stylesheet.cssRules.length;for(;t--;)this.stylesheet.deleteRule(t);this.activeRules={}}},deleteRule(t,e){t.style.animation=t.style.animation.split(", ").filter(t=>t&&-1===t.indexOf(e)).join(", ")},wait:()=>(N.promise||(N.promise=Promise.resolve(),N.promise.then(()=>{N.promise=null})),N.promise)};function k(){return Object.create(null)}function I(t){this.destroy=o,this.fire("destroy"),this.set=o,this._fragment.d(!1!==t),this._fragment=null,this._state={}}function M(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function $(t,e){return t!=t?e==e:t!==e}function P(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1){var s=n[o];if(!s.__calling)try{s.__calling=!0,s.call(this,e)}finally{s.__calling=!1}}}function T(t){t._lock=!0,E(t._beforecreate),E(t._oncreate),E(t._aftercreate),t._lock=!1}function A(){return this._state}function O(t,e){t._handlers=k(),t._slots=k(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function j(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function B(t){this._set(s({},t)),this.root._lock||T(this.root)}function R(t){var e=this._state,n={},o=!1;for(var i in t)this._differs(t[i],e[i])&&(n[i]=o=!0);o&&(this._state=s(s({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))}function E(t){for(;t&&t.length;)t.shift()()}function S(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)}function F(){this.store._remove(this)}var U={destroy:I,get:A,fire:P,on:j,set:B,_recompute:o,_set:R,_mount:S,_differs:M};function G(t,e){this._handlers={},this._dependents=[],this._computed=k(),this._sortedComputedProperties=[],this._state=s({},t),this._differs=e&&e.immutable?$:M}function L(t){var e=t-1;return e*e*e+1}s(G.prototype,{_add(t,e){this._dependents.push({component:t,props:e})},_init(t){const e={};for(let n=0;n<t.length;n+=1){const o=t[n];e["$"+o]=this._state[o]}return e},_remove(t){let e=this._dependents.length;for(;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set(t,e){const n=this._state;this._state=s(s({},n),t);for(let t=0;t<this._sortedComputedProperties.length;t+=1)this._sortedComputedProperties[t].update(this._state,e);this.fire("state",{changed:e,previous:n,current:this._state});const o=this._dependents.slice();for(let t=0;t<o.length;t+=1){const n=o[t],s={};let i=!1;for(let t=0;t<n.props.length;t+=1){const o=n.props[t];o in e&&(s["$"+o]=this._state[o],i=!0)}i&&n.component.set(s)}this.fire("update",{changed:e,previous:n,current:this._state})},_sortComputedProperties(){const t=this._computed,e=this._sortedComputedProperties=[],n=k();let o;function s(i){const r=t[i];r&&(r.deps.forEach(t=>{if(t===o)throw new Error(`Cyclical dependency detected between ${t} <-> ${i}`);s(t)}),n[i]||(n[i]=!0,e.push(r)))}for(const t in this._computed)s(o=t)},compute(t,e,n){let o;const i={deps:e,update:(s,i,r)=>{const a=e.map(t=>(t in i&&(r=!0),s[t]));if(r){const e=n.apply(null,a);this._differs(e,o)&&(o=e,i[t]=!0,s[t]=o)}}};this._computed[t]=i,this._sortComputedProperties();const r=s({},this._state),a={};i.update(r,a,!0),this._set(r,a)},fire:P,get:A,on:j,set(t){const e=this._state,n=this._changed={};let o=!1;for(const s in t){if(this._computed[s])throw new Error(`'${s}' is a read-only property`);this._differs(t[s],e[s])&&(n[s]=o=!0)}o&&this._set(t,n)}});var W=function(t,e){var n=e.delay;void 0===n&&(n=0);var o=e.duration;void 0===o&&(o=400);var s=e.easing;void 0===s&&(s=L);var i=getComputedStyle(t),r=+i.opacity,a=parseFloat(i.height),c=parseFloat(i.paddingTop),l=parseFloat(i.paddingBottom),u=parseFloat(i.marginTop),d=parseFloat(i.marginBottom),m=parseFloat(i.borderTopWidth),h=parseFloat(i.borderBottomWidth);return{delay:n,duration:o,easing:s,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*r+";height: "+t*a+"px;padding-top: "+t*c+"px;padding-bottom: "+t*l+"px;margin-top: "+t*u+"px;margin-bottom: "+t*d+"px;border-top-width: "+t*m+"px;border-bottom-width: "+t*h+"px;"}}};function q(t){return"number"==typeof t&&t.toFixed(2).toString().replace(".",",")+"€"}var H={addNewItem(){const{newItemName:t,newItemCategory:e}=this.get(),{catalogue:{items:n}}=this.store.get(),o={name:t,category:e};this.store.set({catalogue:{items:[...n,o]}}),this.set({newItemName:null,newItemCategory:null})},deleteItem(t){const{newItemName:e,newItemCategory:n}=this.get(),{catalogue:{items:o}}=this.store.get();this.store.set({catalogue:{items:[...o.filter((e,n)=>n!=t)]}}),this.set({newItemName:null,newItemCategory:null})}};function K(t,e){var n,o,s,i,r,u,y,_,v,b=e.name,w=e.category,x=e.price&&V(t,e);return{c(){n=d("div"),o=d("button"),s=m(b),i=m("\n                    "),x&&x.c(),r=m("\n                    "),u=d("span"),y=m(w),_=m("\n                "),(v=d("button")).textContent="×",u.className="badge badge-primary",o._svelte={component:t,ctx:e},h(o,"click",Q),o.className="btn category-btn list-group-item list-group-item-action d-flex justify-content-between align-items-center",v._svelte={component:t,ctx:e},h(v,"click",X),g(v,"aria-hidden","true"),v.className="btn btn-sm btn-outline-danger btn-borderless",n.className="btn-group"},m(t,e){c(t,n,e),a(n,o),a(o,s),a(o,i),x&&x.m(o,null),a(o,r),a(o,u),a(u,y),a(n,_),a(n,v)},p(e,n){e.$catalogue&&b!==(b=n.name)&&f(s,b),n.price?x?x.p(e,n):((x=V(t,n)).c(),x.m(o,r)):x&&(x.d(1),x=null),e.$catalogue&&w!==(w=n.category)&&f(y,w),o._svelte.ctx=n,v._svelte.ctx=n},d(t){t&&l(n),x&&x.d(),p(o,"click",Q),p(v,"click",X)}}}function V(t,e){var n,o,s=q(e.price);return{c(){n=d("span"),o=m(s)},m(t,e){c(t,n,e),a(n,o)},p(t,e){t.$catalogue&&s!==(s=q(e.price))&&f(o,s)},d(t){t&&l(n)}}}function z(t,e){var n,o,s,i,r,u,h,p,g=q(e.newItemPrice);return{c(){n=d("button"),o=m(e.newItemName),s=m("\n                "),i=d("span"),r=m(g),u=m("\n                "),h=d("span"),p=m(e.newItemCategory),h.className="badge badge-primary",n.className="btn category-btn list-group-item-action d-flex justify-content-between align-items-center disabled",n.disabled=!0},m(t,e){c(t,n,e),a(n,o),a(n,s),a(n,i),a(i,r),a(n,u),a(n,h),a(h,p)},p(t,e){t.newItemName&&f(o,e.newItemName),t.newItemPrice&&g!==(g=q(e.newItemPrice))&&f(r,g),t.newItemCategory&&f(p,e.newItemCategory)},d(t){t&&l(n)}}}function D(t,e){var n,o,s,i,r,u,f=!1,y=!1;function _(){f=!0,t.set({newItemPrice:n.value}),f=!1}function v(){y=!0,t.set({newItemCategory:s.value}),y=!1}function b(e){t.addNewItem()}return{c(){n=d("input"),o=m("\n            "),s=d("input"),i=m("\n            "),r=d("div"),(u=d("button")).textContent="add",h(n,"input",_),n.placeholder="price",g(n,"type","text"),h(s,"input",v),s.placeholder="category",g(s,"type","text"),h(u,"click",b),u.className="btn btn-success",u.type="button",r.className="input-group-append"},m(t,l){c(t,n,l),n.value=e.newItemPrice,c(t,o,l),c(t,s,l),s.value=e.newItemCategory,c(t,i,l),c(t,r,l),a(r,u)},p(t,e){f||(n.value=e.newItemPrice),y||(s.value=e.newItemCategory)},d(t){t&&l(n),p(n,"input",_),t&&(l(o),l(s)),p(s,"input",v),t&&(l(i),l(r)),p(u,"click",b)}}}function J(t,e,n){const o=Object.create(t);return o.name=e[n].name,o.category=e[n].category,o.price=e[n].price,o.each_value=e,o.idx=n,o}function Q(t){const{component:e,ctx:n}=this._svelte;e.fire("addItem",{name:n.name,category:n.category,price:n.price})}function X(t){const{component:e,ctx:n}=this._svelte;e.deleteItem(n.idx)}function Y(t){O(this,t),this._state=s(s(this.store._init(["catalogue"]),{newItemName:"",newItemPrice:null,newItemCategory:""}),t.data),this.store._add(this,["catalogue"]),this._intro=!!t.intro,this._handlers.destroy=[F],this._fragment=function(t,e){var n,o,s,i,g,f,_,v,b,w,x,C,N,k,I=!1;function M(e){t.fire("close")}for(var $=e.$catalogue.items,P=[],T=0;T<$.length;T+=1)P[T]=K(t,J(e,$,T));var A=e.newItemName&&z(0,e);function O(){I=!0,t.set({newItemName:C.value}),I=!1}var j=e.newItemName&&D(t,e);return{c(){n=d("div"),o=d("div"),s=d("h3"),i=m("Add Item\n            "),(g=d("button")).innerHTML='<span aria-hidden="true">×</span>',f=m("\n\n    "),_=d("div"),v=d("div");for(var t=0;t<P.length;t+=1)P[t].c();b=m("\n\n            "),A&&A.c(),w=m("\n\n        "),x=d("div"),C=d("input"),N=m("\n            "),j&&j.c(),h(g,"click",M),g.type="button",g.className="close",g.title="Close",s.className="card-title",o.className="card-header",v.className="list-group",y(v,"max-height","400px"),y(v,"overflow","scroll"),y(v,"padding-right","10px"),h(C,"input",O),C.value="",C.placeholder="name",x.className="input-group mb-3",_.className="card-body",n.className="card"},m(t,r){c(t,n,r),a(n,o),a(o,s),a(s,i),a(s,g),a(n,f),a(n,_),a(_,v);for(var l=0;l<P.length;l+=1)P[l].m(v,null);a(v,b),A&&A.m(v,null),a(_,w),a(_,x),a(x,C),C.value=e.newItemName,a(x,N),j&&j.m(x,null),k=!0},p(e,n){if(e.$catalogue){$=n.$catalogue.items;for(var o=0;o<$.length;o+=1){const s=J(n,$,o);P[o]?P[o].p(e,s):(P[o]=K(t,s),P[o].c(),P[o].m(v,b))}for(;o<P.length;o+=1)P[o].d(1);P.length=$.length}n.newItemName?A?A.p(e,n):((A=z(0,n)).c(),A.m(v,null)):A&&(A.d(1),A=null),I||(C.value=n.newItemName),n.newItemName?j?j.p(e,n):((j=D(t,n)).c(),j.m(x,null)):j&&(j.d(1),j=null)},i(t,e){k||this.m(t,e)},o:r,d(t){t&&l(n),p(g,"click",M),u(P,t),A&&A.d(),p(C,"input",O),j&&j.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}s(Y.prototype,U),s(Y.prototype,H),Y.prototype._differs=$;var Z=Y;n(1);function tt(t){return"number"==typeof t&&t.toFixed(2).toString().replace(".",",")+"€"}var et={checkItem(t){const{items:e}=this.store.get();e[t].done=!e[t].done;const n=e.map(({done:t},e)=>({done:t,idx:e})).filter(({done:t})=>t).map(({idx:t})=>t);this.set({checked:n}),this.store.set({items:[...e]})},addCustomItem(){const{items:t}=this.store.get(),{customItemName:e,customItemPrice:n,category:o}=this.get();if(e){const s={name:e,price:Number.parseFloat(n),category:o};this.store.set({items:[...t,s]}),this.set({customItemName:null,customItemPrice:null,showAddPrice:!1,showCustomMenu:!1})}},toggleAddMenu(){const{showCustomMenu:t}=this.get();this.set({showCustomMenu:!t,showAddPrice:!1})},toggleShowAddPrice(){const{showAddPrice:t}=this.get();this.set({showAddPrice:!t})},toggleItemMenu(t){const{itemMenu:e}=this.get();e==t?this.set({itemMenu:-1}):this.set({itemMenu:t})},deleteItem(t){const{items:e}=this.store.get(),n=[...e.filter((e,n)=>n!==t)],o=n.map(({done:t},e)=>({done:t,idx:e})).filter(({done:t})=>t).map(({idx:t})=>t);this.set({checked:o,itemMenu:-1}),this.store.set({items:n})}};function nt(){const t=this.get();console.dir({state:t})}function ot(t,e){var n,o,s,i,r=tt(e.$sumByCategory[e.category]);return{c(){n=d("small"),o=m("( "),s=m(r),i=m(" )")},m(t,e){c(t,n,e),a(n,o),a(n,s),a(n,i)},p(t,e){(t.$sumByCategory||t.category)&&r!==(r=tt(e.$sumByCategory[e.category]))&&f(s,r)},d(t){t&&l(n)}}}function st(t,e){var n,o=e.category===e.itemCat&&rt(t,e);return{c(){o&&o.c(),n=document.createComment("")},m(t,e){o&&o.m(t,e),c(t,n,e)},p(e,s){s.category===s.itemCat?o?o.p(e,s):((o=rt(t,s)).c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(t){o&&o.d(t),t&&l(n)}}}function it(t,e){var n,o,s,i=tt(e.price);return{c(){n=m("("),o=m(i),s=m(")")},m(t,e){c(t,n,e),c(t,o,e),c(t,s,e)},p(t,e){t.$items&&i!==(i=tt(e.price))&&f(o,i)},d(t){t&&(l(n),l(o),l(s))}}}function rt(t,e){var n,o,s,i,r,u,y,_,v,b,w,x,C,N,k,I,M,$,P=e.name;function T(){t.set({checked:function(t){for(var e=[],n=0;n<t.length;n+=1)t[n].checked&&e.push(t[n].__value);return e}(t._bindingGroups[0])})}var A=e.price&&it(0,e);return{c(){n=d("div"),o=d("div"),s=d("button"),i=m("\n\n                        "),r=d("div"),(u=d("button")).textContent="remember",y=m("\n                            "),_=d("div"),v=m("\n                            "),(b=d("button")).textContent="delete",x=m("\n\n                    "),C=d("div"),N=d("button"),k=d("input"),I=m("\n                            "),M=m(P),$=m("\n                            "),A&&A.c(),s._svelte={component:t,ctx:e},h(s,"click",ct),s.className="btn btn-dark dropdown-toggle",s.type="button",s.dataset.toggle="dropdown",g(s,"aria-haspopup","true"),g(s,"aria-expanded","false"),u.className="dropdown-item",g(_,"role","separator"),_.className="dropdown-divider",b._svelte={component:t,ctx:e},h(b,"click",lt),b.className="dropdown-item",r.className=w="dropdown-menu "+e.showMenu(e.idx)+" svelte-a96pjr",o.className="input-group-prepend",t._bindingGroups[0].push(k),h(k,"change",T),g(k,"type","checkbox"),k.className="bigbox svelte-a96pjr",k.__value=e.idx,k.value=k.__value,k.disabled=!0,g(k,"aria-label","Checkbox for following text input"),N._svelte={component:t,ctx:e},h(N,"click",ut),N.className=" btn btn-outline-success list-group-item-action d-flex align-items-center",C.className=" form-control bigbutton svelte-a96pjr",n.className="input-group mb-1"},m(t,l){c(t,n,l),a(n,o),a(o,s),a(o,i),a(o,r),a(r,u),a(r,y),a(r,_),a(r,v),a(r,b),a(n,x),a(n,C),a(C,N),a(N,k),k.checked=~e.checked.indexOf(k.__value),a(N,I),a(N,M),a(N,$),A&&A.m(N,null)},p(t,e){s._svelte.ctx=e,b._svelte.ctx=e,t.showMenu&&w!==(w="dropdown-menu "+e.showMenu(e.idx)+" svelte-a96pjr")&&(r.className=w),k.checked=~e.checked.indexOf(k.__value),t.$items&&P!==(P=e.name)&&f(M,P),e.price?A?A.p(t,e):((A=it(0,e)).c(),A.m(N,null)):A&&(A.d(1),A=null),N._svelte.ctx=e},d(e){e&&l(n),p(s,"click",ct),p(b,"click",lt),t._bindingGroups[0].splice(t._bindingGroups[0].indexOf(k),1),p(k,"change",T),A&&A.d(),p(N,"click",ut)}}}function at(t,e,n){const o=Object.create(t);return o.name=e[n].name,o.price=e[n].price,o.itemCat=e[n].category,o.each_value=e,o.idx=n,o}function ct(t){const{component:e,ctx:n}=this._svelte;e.toggleItemMenu(n.idx)}function lt(t){const{component:e,ctx:n}=this._svelte;e.deleteItem(n.idx)}function ut(t){const{component:e,ctx:n}=this._svelte;e.checkItem(n.idx)}function dt(t){O(this,t),this._state=s(s(s({Math:Math},this.store._init(["sumByCategory","progress","items"])),{items:[],checked:[],itemMenu:-1,showCustomMenu:!1,showAddPrice:!1,customItemName:null,customItemPrice:null}),t.data),this.store._add(this,["sumByCategory","progress","items"]),this._recompute({itemMenu:1},this._state),this._bindingGroups=[[]],this._intro=!!t.intro,this._handlers.update=[nt],this._handlers.destroy=[F],this._fragment=function(t,e){var n,o,s,i,_,v,b,w,x,C,N,k,I,M,$,P,T,A,O,j,B,R,E,S,F,U,G,L,W,q,H,K,V,z=e.Math.floor(e.$progress[e.category].done/e.$progress[e.category].all*100),D=!1,J=!1,Q=e.showCustomMenu?"-":"+",X=e.$sumByCategory[e.category]&&ot(0,e);function Y(n){t.fire("close",{name:e.name})}for(var Z=e.$items,tt=[],et=0;et<Z.length;et+=1)tt[et]=st(t,at(e,Z,et));function nt(){D=!0,t.set({customItemName:j.value}),D=!1}function it(){J=!0,t.set({customItemPrice:R.value}),J=!1}function rt(e){t.fire("showCatalogue")}function ct(e){t.toggleShowAddPrice()}function lt(e){t.addCustomItem()}function ut(e){t.toggleAddMenu()}return{c(){n=d("div"),o=d("div"),s=d("h5"),i=m(e.category),_=m("\n            "),X&&X.c(),v=m("\n            "),(b=d("button")).innerHTML='<span aria-hidden="true">×</span>',w=m("\n        "),x=d("div"),C=d("div"),N=m(z),k=m("%"),M=m("\n\n    "),$=d("div"),P=d("div");for(var t=0;t<tt.length;t+=1)tt[t].c();T=m("\n\n            "),A=d("div"),O=d("div"),j=d("input"),B=m("\n\n                    "),R=d("input"),E=m("\n                    "),(S=d("button")).textContent="add",F=m("\n\n                    "),U=d("div"),(G=d("button")).textContent="€",L=m("\n                        "),(W=d("button")).textContent="add",q=m("\n\n                        "),H=d("button"),K=m(Q),h(b,"click",Y),b.type="button",b.className="close",b.title="Close",C.className="progress-bar",g(C,"role","progressbar"),y(C,"width",e.$progress[e.category].done/e.$progress[e.category].all*100+"%"),g(C,"aria-valuenow",I=e.$progress[e.category].done/e.$progress[e.category].all*100),g(C,"aria-valuemin","0"),g(C,"aria-valuemax","100"),x.className="progress",y(x,"height","30px"),o.className="card-header",P.className="row mb-4",h(j,"input",nt),g(j,"type","text"),j.className="form-control",g(j,"aria-label","item"),y(j,"display",e.showCustomMenu?"block":"none"),j.placeholder="new item",h(R,"input",it),g(R,"type","text"),R.className="form-control",g(R,"aria-label","price"),y(R,"display",e.showCustomMenu&&e.showAddPrice?"block":"none"),R.placeholder="price",h(S,"click",rt),S.type="button",S.className="btn btn-success",y(S,"display",e.showCustomMenu?"none":"block"),h(G,"click",ct),G.type="button",G.className="btn btn-outline-warning",y(G,"display",e.showCustomMenu&&!e.showAddPrice?"block":"none"),h(W,"click",lt),W.type="button",W.className="btn btn-primary",y(W,"display",e.showCustomMenu?"block":"none"),h(H,"click",ut),H.type="button",H.className="btn btn-outline-secondary",U.className="input-group-append",g(U,"tansition:slide",!0),O.className="input-group",A.className="row",$.className="card-body",n.className="card"},m(t,r){c(t,n,r),a(n,o),a(o,s),a(s,i),a(s,_),X&&X.m(s,null),a(s,v),a(s,b),a(o,w),a(o,x),a(x,C),a(C,N),a(C,k),a(n,M),a(n,$),a($,P);for(var l=0;l<tt.length;l+=1)tt[l].m(P,null);a($,T),a($,A),a(A,O),a(O,j),j.value=e.customItemName,a(O,B),a(O,R),R.value=e.customItemPrice,a(O,E),a(O,S),a(O,F),a(O,U),a(U,G),a(U,L),a(U,W),a(U,q),a(U,H),a(H,K),V=!0},p(n,o){if(e=o,n.category&&f(i,e.category),e.$sumByCategory[e.category]?X?X.p(n,e):((X=ot(0,e)).c(),X.m(s,v)):X&&(X.d(1),X=null),(n.Math||n.$progress||n.category)&&z!==(z=e.Math.floor(e.$progress[e.category].done/e.$progress[e.category].all*100))&&f(N,z),(n.$progress||n.category)&&y(C,"width",e.$progress[e.category].done/e.$progress[e.category].all*100+"%"),(n.$progress||n.category)&&I!==(I=e.$progress[e.category].done/e.$progress[e.category].all*100)&&g(C,"aria-valuenow",I),n.category||n.$items||n.showMenu||n.checked){Z=e.$items;for(var r=0;r<Z.length;r+=1){const o=at(e,Z,r);tt[r]?tt[r].p(n,o):(tt[r]=st(t,o),tt[r].c(),tt[r].m(P,null))}for(;r<tt.length;r+=1)tt[r].d(1);tt.length=Z.length}D||(j.value=e.customItemName),n.showCustomMenu&&y(j,"display",e.showCustomMenu?"block":"none"),J||(R.value=e.customItemPrice),(n.showCustomMenu||n.showAddPrice)&&y(R,"display",e.showCustomMenu&&e.showAddPrice?"block":"none"),n.showCustomMenu&&y(S,"display",e.showCustomMenu?"none":"block"),(n.showCustomMenu||n.showAddPrice)&&y(G,"display",e.showCustomMenu&&!e.showAddPrice?"block":"none"),n.showCustomMenu&&y(W,"display",e.showCustomMenu?"block":"none"),n.showCustomMenu&&Q!==(Q=e.showCustomMenu?"-":"+")&&f(K,Q)},i(t,e){V||this.m(t,e)},o:r,d(t){t&&l(n),X&&X.d(),p(b,"click",Y),u(tt,t),p(j,"input",nt),p(R,"input",it),p(S,"click",rt),p(G,"click",ct),p(W,"click",lt),p(H,"click",ut)}}}(this,this._state),this.root._oncreate.push(()=>{(function(){const{items:t}=this.store.get(),e=t.map(({done:t},e)=>({done:t,idx:e})).filter(({done:t})=>t).map(({idx:t})=>t);this.set({checked:e})}).call(this),this.fire("update",{changed:function(t,e){for(var n in e)t[n]=1;return t}({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),T(this)),this._intro=!0}s(dt.prototype,U),s(dt.prototype,et),dt.prototype._recompute=function(t,e){t.itemMenu&&this._differs(e.showMenu,e.showMenu=function({itemMenu:t}){return e=>t===e?"show":""}(e))&&(t.showMenu=!0)},dt.prototype._differs=$;var mt=dt;n(3);var ht={addItem({name:t,category:e,price:n}){const{items:o}=this.store.get(),s={name:t,category:e,price:n,done:!1};this.store.set({items:[...o,s]}),this.closeCatalogue(1500)},showCatalogue(){clearTimeout(this.TIMEOUT),console.debug("showing catalogue"),this.set({showCatalogue:!0})},closeCatalogue(t){console.debug(`closing Catalogue in ${t}ms`),this.TIMEOUT&&clearTimeout(this.TIMEOUT),this.TIMEOUT=setTimeout(()=>{this.set({showCatalogue:!1})},t)}};function pt(t,e){var n,o,s=new Z({root:t.root,store:t.store});return s.on("addItem",function(e){t.addItem(e)}),s.on("close",function(e){t.closeCatalogue(0)}),{c(){n=d("div"),s._fragment.c(),n.className="col-md-6"},m(t,e){c(t,n,e),s._mount(n,null),o=!0},i(t,e){o||this.m(t,e)},o(t){o&&(s&&s._fragment.o(t),o=!1)},d(t){t&&l(n),s.destroy()}}}function gt(t,e){var n,o,s=e.$items.filter(({category:t})=>t===e.category).length>0&&ft(t,e);return{c(){n=d("div"),s&&s.c(),n.className="col-xl-4 col-md-6"},m(t,e){c(t,n,e),s&&s.m(n,null),o=!0},p(e,o){o.$items.filter(({category:t})=>t===o.category).length>0?(s?s.p(e,o):(s=ft(t,o))&&s.c(),s.i(n,null)):s&&(C(),s.o(function(){s.d(1),s=null}))},i(t,e){o||this.m(t,e)},o(t){o&&(s?s.o(t):t(),o=!1)},d(t){t&&l(n),s&&s.d()}}}function ft(t,e){var n,o={category:e.category},s=new mt({root:t.root,store:t.store,data:o});return s.on("showCatalogue",function(e){t.showCatalogue()}),{c(){s._fragment.c()},m(t,e){s._mount(t,e),n=!0},p(t,e){var n={};t.$categories&&(n.category=e.category),s._set(n)},i(t,e){n||this.m(t,e)},o(t){n&&(s&&s._fragment.o(t),n=!1)},d(t){s.destroy(t)}}}function yt(t,e,n){const o=Object.create(t);return o.category=e[n],o.each_value=e,o.category_index=n,o}function _t(t){O(this,t),this._state=s(s(this.store._init(["items","categories"]),{showCatalogue:!1}),t.data),this.store._add(this,["items","categories"]),this._intro=!!t.intro,this._handlers.destroy=[F],this._fragment=function(t,e){for(var n,o,s,r,h,p,g,f=(e.showCatalogue||0===e.$items.length)&&pt(t),y=e.$categories,_=[],v=0;v<y.length;v+=1)_[v]=gt(t,yt(e,y,v));function b(t,e,n){_[t]&&_[t].o(()=>{e&&(_[t].d(e),_[t]=null),n&&n()})}return{c(){n=d("div"),o=d("div"),f&&f.c(),s=m("\n\n        "),r=d("div"),h=d("div");for(var t=0;t<_.length;t+=1)_[t].c();h.className="row",r.className="col",o.className="row",n.className="container-fluid"},m(t,e){c(t,n,e),a(n,o),f&&f.m(o,null),a(o,s),a(o,r),a(r,h);for(var i=0;i<_.length;i+=1)_[i].i(h,null);g=!0},p(e,n){if(n.showCatalogue||0===n.$items.length?(f||(f=pt(t)).c(),f.i(o,s)):f&&(C(),f.o(function(){f.d(1),f=null})),e.$items||e.$categories){y=n.$categories;for(var i=0;i<y.length;i+=1){const o=yt(n,y,i);_[i]?_[i].p(e,o):(_[i]=gt(t,o),_[i].c()),_[i].i(h,null)}for(C();i<_.length;i+=1)b(i,1)}},i(e,n){g||(t.root._intro&&(p&&p.invalidate(),t.root._aftercreate.push(()=>{p||(p=w(t,r,W,{},!0)),p.run(1)})),this.m(e,n))},o(e){if(!g)return;e=i(e,3),f?f.o(e):e();const n=i(e,_.length);for(let t=0;t<_.length;t+=1)b(t,0,n);p||(p=w(t,r,W,{},!1)),p.run(0,()=>{e(),p=null}),g=!1},d(t){t&&l(n),f&&f.d(),u(_,t),t&&p&&p.abort()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),T(this)),this._intro=!0}s(_t.prototype,U),s(_t.prototype,ht),_t.prototype._differs=$;var vt=_t;const bt=new G({items:[],catalogue:{items:[{name:"Milch",category:"shopping",price:.85},{name:"Butter",category:"shopping",price:2.29},{name:"Mehl",category:"shopping",price:.6},{name:"Bier",category:"shopping",price:20},{name:"TÜV",category:"AUTO"},{name:"Waschen",category:"AUTO"},{name:"Saugen",category:"wohnung"},{name:"Küche",category:"wohnung"},{name:"Bad",category:"wohnung"}]}});bt.on("state",({current:t})=>{console.dir({storeState:t})}),bt.compute("categories",["items"],t=>Array.from(new Set(t.map(({category:t})=>t)))),bt.compute("sumByCategory",["items"],t=>{const e={};return t.forEach(t=>{e[t.category]=e[t.category]||0,t.price&&(e[t.category]+=t.price)}),e}),bt.compute("progress",["items"],t=>{const e={};return t.forEach(t=>{e[t.category]=e[t.category]||{open:0,done:0,all:0},t.done?e[t.category].done+=1:e[t.category].open+=1,e[t.category].all+=1}),e});const wt=new vt({target:document.body,store:bt});window.app=wt;e.default=wt}]);