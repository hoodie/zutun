<style>
    @import url("../node_modules/bootstrap/dist/css/bootstrap.min.css");
</style>

<div class="container-fluid">
    <div class="row">
        {#if $showCatalogue}
        <div class="col">
            <Catalogue on:addItem="addItem(event)"/>
        </div>
        {/if}
        <div class="col">
        {#each $categories as category}
            {#if $items.filter(({category: c}) => c === category).length > 0}
            <Todo category="{category}" />
            {/if}
        {/each}
        </div>
    </div>
</div>

<script>
    export default {

        components: {
            Catalogue: './Catalogue.html',
            Todo: './Todo.html'
        },

        methods: {
            addItem({name, category, price}) {
                const {items} = this.store.get();
                const item = {name, category, price, done: false}

                this.store.set({items:  [...items, item]})
            }
        }
    }
</script>
